{"ast":null,"code":"import React,{useState,useEffect}from'react';import{NavLink,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{LayoutDashboard,Calendar,LogOut,Bell,Menu,X,Clock,User,Moon,Sun,Check,Activity,Settings as SettingsIcon}from'lucide-react';import api from'../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{let{children}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const[sidebarOpen,setSidebarOpen]=useState(true);const[isDarkMode,setIsDarkMode]=useState(localStorage.getItem('theme')==='dark');const[notifications,setNotifications]=useState([]);const[showNotifications,setShowNotifications]=useState(false);useEffect(()=>{document.documentElement.setAttribute('data-theme',isDarkMode?'dark':'light');localStorage.setItem('theme',isDarkMode?'dark':'light');},[isDarkMode]);const fetchNotifications=async()=>{try{const res=await api.get('/notifications');const newNotifications=res.data;// Show toast for new unread notifications\nnewNotifications.forEach(n=>{const isNew=!notifications.find(old=>old.id===n.id);if(isNew&&!n.is_read){toast(n.message,{icon:'ðŸ””',duration:5000});}});setNotifications(newNotifications);}catch(error){console.error('Failed to fetch notifications');}};useEffect(()=>{fetchNotifications();const interval=setInterval(fetchNotifications,30000);// Poll every 30s\nreturn()=>clearInterval(interval);},[]);const markAsRead=async id=>{try{await api.put(\"/notifications/\".concat(id,\"/read\"));fetchNotifications();}catch(error){toast.error('Failed to mark notification as read');}};const handleLogout=()=>{logout();navigate('/login');};const unreadCount=notifications.filter(n=>!n.is_read).length;const navItems=[{name:'Dashboard',path:'/',icon:/*#__PURE__*/_jsx(LayoutDashboard,{size:20})},{name:'My Timetable',path:'/timetable',icon:/*#__PURE__*/_jsx(Calendar,{size:20})},{name:'Reports',path:'/reports',icon:/*#__PURE__*/_jsx(Activity,{size:20})},{name:'Settings',path:'/settings',icon:/*#__PURE__*/_jsx(SettingsIcon,{size:20})}];const[isMobile,setIsMobile]=useState(window.innerWidth<768);useEffect(()=>{const handleResize=()=>{const mobile=window.innerWidth<768;setIsMobile(mobile);if(mobile)setSidebarOpen(false);else setSidebarOpen(true);};window.addEventListener('resize',handleResize);handleResize();// Init\nreturn()=>window.removeEventListener('resize',handleResize);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'100vh',minHeight:'100dvh',backgroundColor:'var(--bg-main)',overflow:'hidden'// Prevent horizontal scroll on outer container\n},children:[isMobile&&sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSidebarOpen(false),style:{position:'fixed',inset:0,backgroundColor:'rgba(0,0,0,0.5)',zIndex:99}}),/*#__PURE__*/_jsxs(\"div\",{style:{width:sidebarOpen?'260px':isMobile?'0px':'80px',backgroundColor:'var(--bg-card)',borderRight:'1px solid var(--border)',transition:'all 0.3s ease',display:'flex',flexDirection:'column',position:isMobile?'fixed':'sticky',top:0,bottom:0,height:'100vh',zIndex:100,overflow:'hidden',whiteSpace:'nowrap',boxShadow:isMobile&&sidebarOpen?'4px 0 24px rgba(0,0,0,0.1)':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px',display:'flex',alignItems:'center',justifyContent:'space-between',minHeight:'80px',borderBottom:'1px solid var(--border)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',opacity:sidebarOpen?1:0,transition:'opacity 0.2s'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'32px',height:'32px',background:'var(--primary)',borderRadius:'8px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(LayoutDashboard,{color:\"white\",size:20})}),sidebarOpen&&/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'20px',fontWeight:'800',color:'var(--text-main)',margin:0},children:\"Timetable\"})]}),!isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),style:{background:'none',color:'var(--text-muted)'},children:sidebarOpen?/*#__PURE__*/_jsx(X,{size:20}):/*#__PURE__*/_jsx(Menu,{size:20})})]}),/*#__PURE__*/_jsx(\"nav\",{style:{padding:'20px 12px',flex:1,overflowY:'auto'},children:navItems.map(item=>/*#__PURE__*/_jsxs(NavLink,{to:item.path,onClick:()=>isMobile&&setSidebarOpen(false),style:_ref2=>{let{isActive}=_ref2;return{display:'flex',alignItems:'center',padding:'12px 16px',marginBottom:'8px',borderRadius:'12px',textDecoration:'none',color:isActive?'var(--primary)':'var(--text-muted)',backgroundColor:isActive?'rgba(59, 130, 246, 0.1)':'transparent',transition:'all 0.2s',justifyContent:sidebarOpen?'flex-start':'center'};},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:item.icon}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'600',opacity:sidebarOpen?1:0,transform:sidebarOpen?'translateX(0)':'translateX(10px)',transition:'all 0.3s',display:'block'},children:item.name})]},item.path))}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderTop:'1px solid var(--border)'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,style:{display:'flex',alignItems:'center',padding:'12px',width:'100%',borderRadius:'12px',color:'#ef4444',backgroundColor:'transparent',justifyContent:sidebarOpen?'flex-start':'center',whiteSpace:'nowrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(LogOut,{size:20})}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'600',opacity:sidebarOpen?1:0,transition:'opacity 0.2s'},children:\"Logout\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{height:'70px',backgroundColor:'var(--bg-card)',borderBottom:'1px solid var(--border)',display:'flex',alignItems:'center',justifyContent:'space-between',padding:isMobile?'0 16px':'0 30px',paddingTop:'env(safe-area-inset-top)',position:'sticky',top:0,zIndex:90,boxSizing:'content-box'// Ensure height is maintained with safe area\n},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px'},children:[isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(true),style:{background:'none',color:'var(--text-main)',padding:0},children:/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Clock,{size:16,color:\"var(--text-muted)\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'500',color:'var(--text-muted)',fontSize:'14px'},children:new Date().toLocaleDateString('en-US',{month:'short',day:'numeric'})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsDarkMode(!isDarkMode),style:{background:'none',color:'var(--text-muted)',padding:0},children:isDarkMode?/*#__PURE__*/_jsx(Sun,{size:20}):/*#__PURE__*/_jsx(Moon,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),style:{background:'none',color:'var(--text-muted)',padding:0},children:[/*#__PURE__*/_jsx(Bell,{size:20}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-5px',right:'-5px',backgroundColor:'#ef4444',color:'white',fontSize:'10px',fontWeight:'bold',padding:'2px 5px',borderRadius:'10px',border:'2px solid var(--bg-card)'},children:unreadCount})]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{position:'absolute',top:'40px',right:0,width:'320px',maxHeight:'450px',overflowY:'auto',zIndex:1000,padding:'20px',boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'16px',fontWeight:'800'},children:\"Notifications\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await api.put('/notifications/read-all');fetchNotifications();}catch(e){toast.error('Failed to mark all as read');}},style:{background:'none',color:'var(--primary)',fontSize:'12px',fontWeight:'700'},children:\"Mark all as read\"})]}),notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(Bell,{size:24,style:{opacity:0.2,marginBottom:'8px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',margin:0},children:\"No notifications yet.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:notifications.map(n=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',borderRadius:'12px',backgroundColor:n.is_read?'transparent':'rgba(59, 130, 246, 0.05)',border:'1px solid',borderColor:n.is_read?'var(--border)':'rgba(59, 130, 246, 0.2)',fontSize:'13px',display:'flex',justifyContent:'space-between',alignItems:'flex-start',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(\"span\",{style:{flex:1,marginRight:'10px',lineHeight:'1.4'},children:n.message}),!n.is_read&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();markAsRead(n.id);},style:{background:'none',color:'#10b981',padding:'4px'},children:/*#__PURE__*/_jsx(Check,{size:16})})]},n.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',paddingLeft:isMobile?'10px':'20px',borderLeft:'1px solid var(--border)'},children:[!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'700',fontSize:'14px'},children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'var(--text-muted)'},children:\"Timetable App\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'12px',backgroundColor:'var(--primary)',display:'flex',justifyContent:'center',alignItems:'center',color:'white'},children:/*#__PURE__*/_jsx(User,{size:20})})]})]})]}),/*#__PURE__*/_jsx(\"main\",{style:{padding:isMobile?'16px':'30px',paddingBottom:'calc(16px + env(safe-area-inset-bottom))',flex:1,overflowY:'auto'},children:children})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useNavigate","useAuth","LayoutDashboard","Calendar","LogOut","Bell","Menu","X","Clock","User","Moon","Sun","Check","Activity","Settings","SettingsIcon","api","toast","jsx","_jsx","jsxs","_jsxs","Layout","_ref","children","user","logout","navigate","sidebarOpen","setSidebarOpen","isDarkMode","setIsDarkMode","localStorage","getItem","notifications","setNotifications","showNotifications","setShowNotifications","document","documentElement","setAttribute","setItem","fetchNotifications","res","get","newNotifications","data","forEach","n","isNew","find","old","id","is_read","message","icon","duration","error","console","interval","setInterval","clearInterval","markAsRead","put","concat","handleLogout","unreadCount","filter","length","navItems","name","path","size","isMobile","setIsMobile","window","innerWidth","handleResize","mobile","addEventListener","removeEventListener","style","display","minHeight","backgroundColor","overflow","onClick","position","inset","zIndex","width","borderRight","transition","flexDirection","top","bottom","height","whiteSpace","boxShadow","padding","alignItems","justifyContent","borderBottom","gap","opacity","background","borderRadius","color","fontSize","fontWeight","margin","flex","overflowY","map","item","to","_ref2","isActive","marginBottom","textDecoration","minWidth","marginLeft","transform","borderTop","paddingTop","boxSizing","Date","toLocaleDateString","month","day","right","border","className","maxHeight","e","textAlign","borderColor","marginRight","lineHeight","stopPropagation","paddingLeft","borderLeft","paddingBottom"],"sources":["D:/time table/frontend/src/components/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport {\r\n    LayoutDashboard,\r\n    Calendar,\r\n    LogOut,\r\n    Bell,\r\n    Menu,\r\n    X,\r\n    Clock,\r\n    User,\r\n    Moon,\r\n    Sun,\r\n    Check,\r\n    Activity,\r\n    Settings as SettingsIcon\r\n} from 'lucide-react';\r\nimport api from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Layout = ({ children }) => {\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [isDarkMode, setIsDarkMode] = useState(localStorage.getItem('theme') === 'dark');\r\n    const [notifications, setNotifications] = useState([]);\r\n    const [showNotifications, setShowNotifications] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.documentElement.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');\r\n        localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\r\n    }, [isDarkMode]);\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            const res = await api.get('/notifications');\r\n            const newNotifications = res.data;\r\n\r\n            // Show toast for new unread notifications\r\n            newNotifications.forEach(n => {\r\n                const isNew = !notifications.find(old => old.id === n.id);\r\n                if (isNew && !n.is_read) {\r\n                    toast(n.message, { icon: 'ðŸ””', duration: 5000 });\r\n                }\r\n            });\r\n\r\n            setNotifications(newNotifications);\r\n        } catch (error) {\r\n            console.error('Failed to fetch notifications');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n        const interval = setInterval(fetchNotifications, 30000); // Poll every 30s\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const markAsRead = async (id) => {\r\n        try {\r\n            await api.put(`/notifications/${id}/read`);\r\n            fetchNotifications();\r\n        } catch (error) {\r\n            toast.error('Failed to mark notification as read');\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate('/login');\r\n    };\r\n\r\n    const unreadCount = notifications.filter(n => !n.is_read).length;\r\n\r\n    const navItems = [\r\n        { name: 'Dashboard', path: '/', icon: <LayoutDashboard size={20} /> },\r\n        { name: 'My Timetable', path: '/timetable', icon: <Calendar size={20} /> },\r\n        { name: 'Reports', path: '/reports', icon: <Activity size={20} /> },\r\n        { name: 'Settings', path: '/settings', icon: <SettingsIcon size={20} /> },\r\n    ];\r\n\r\n    const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            const mobile = window.innerWidth < 768;\r\n            setIsMobile(mobile);\r\n            if (mobile) setSidebarOpen(false);\r\n            else setSidebarOpen(true);\r\n        };\r\n        window.addEventListener('resize', handleResize);\r\n        handleResize(); // Init\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            minHeight: '100vh',\r\n            minHeight: '100dvh',\r\n            backgroundColor: 'var(--bg-main)',\r\n            overflow: 'hidden' // Prevent horizontal scroll on outer container\r\n        }}>\r\n            {/* Mobile Overlay */}\r\n            {isMobile && sidebarOpen && (\r\n                <div\r\n                    onClick={() => setSidebarOpen(false)}\r\n                    style={{\r\n                        position: 'fixed',\r\n                        inset: 0,\r\n                        backgroundColor: 'rgba(0,0,0,0.5)',\r\n                        zIndex: 99\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Sidebar */}\r\n            <div style={{\r\n                width: sidebarOpen ? '260px' : (isMobile ? '0px' : '80px'),\r\n                backgroundColor: 'var(--bg-card)',\r\n                borderRight: '1px solid var(--border)',\r\n                transition: 'all 0.3s ease',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                position: isMobile ? 'fixed' : 'sticky',\r\n                top: 0,\r\n                bottom: 0,\r\n                height: '100vh',\r\n                zIndex: 100,\r\n                overflow: 'hidden',\r\n                whiteSpace: 'nowrap',\r\n                boxShadow: isMobile && sidebarOpen ? '4px 0 24px rgba(0,0,0,0.1)' : 'none'\r\n            }}>\r\n                <div style={{\r\n                    padding: '24px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    minHeight: '80px',\r\n                    borderBottom: '1px solid var(--border)'\r\n                }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '12px', opacity: sidebarOpen ? 1 : 0, transition: 'opacity 0.2s' }}>\r\n                        <div style={{ width: '32px', height: '32px', background: 'var(--primary)', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                            <LayoutDashboard color=\"white\" size={20} />\r\n                        </div>\r\n                        {sidebarOpen && <h1 style={{ fontSize: '20px', fontWeight: '800', color: 'var(--text-main)', margin: 0 }}>Timetable</h1>}\r\n                    </div>\r\n\r\n                    {!isMobile && (\r\n                        <button onClick={() => setSidebarOpen(!sidebarOpen)} style={{ background: 'none', color: 'var(--text-muted)' }}>\r\n                            {sidebarOpen ? <X size={20} /> : <Menu size={20} />}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                <nav style={{ padding: '20px 12px', flex: 1, overflowY: 'auto' }}>\r\n                    {navItems.map((item) => (\r\n                        <NavLink\r\n                            key={item.path}\r\n                            to={item.path}\r\n                            onClick={() => isMobile && setSidebarOpen(false)}\r\n                            style={({ isActive }) => ({\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                padding: '12px 16px',\r\n                                marginBottom: '8px',\r\n                                borderRadius: '12px',\r\n                                textDecoration: 'none',\r\n                                color: isActive ? 'var(--primary)' : 'var(--text-muted)',\r\n                                backgroundColor: isActive ? 'rgba(59, 130, 246, 0.1)' : 'transparent',\r\n                                transition: 'all 0.2s',\r\n                                justifyContent: sidebarOpen ? 'flex-start' : 'center'\r\n                            })}\r\n                        >\r\n                            <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}>{item.icon}</div>\r\n                            <span style={{\r\n                                marginLeft: '12px',\r\n                                fontWeight: '600',\r\n                                opacity: sidebarOpen ? 1 : 0,\r\n                                transform: sidebarOpen ? 'translateX(0)' : 'translateX(10px)',\r\n                                transition: 'all 0.3s',\r\n                                display: 'block'\r\n                            }}>\r\n                                {item.name}\r\n                            </span>\r\n                        </NavLink>\r\n                    ))}\r\n                </nav>\r\n\r\n                <div style={{ padding: '20px', borderTop: '1px solid var(--border)' }}>\r\n                    <button\r\n                        onClick={handleLogout}\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            padding: '12px',\r\n                            width: '100%',\r\n                            borderRadius: '12px',\r\n                            color: '#ef4444',\r\n                            backgroundColor: 'transparent',\r\n                            justifyContent: sidebarOpen ? 'flex-start' : 'center',\r\n                            whiteSpace: 'nowrap'\r\n                        }}\r\n                    >\r\n                        <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}><LogOut size={20} /></div>\r\n                        <span style={{\r\n                            marginLeft: '12px',\r\n                            fontWeight: '600',\r\n                            opacity: sidebarOpen ? 1 : 0,\r\n                            transition: 'opacity 0.2s'\r\n                        }}>Logout</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n                {/* Header */}\r\n                <header style={{\r\n                    height: '70px',\r\n                    backgroundColor: 'var(--bg-card)',\r\n                    borderBottom: '1px solid var(--border)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    padding: isMobile ? '0 16px' : '0 30px',\r\n                    paddingTop: 'env(safe-area-inset-top)',\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    zIndex: 90,\r\n                    boxSizing: 'content-box' // Ensure height is maintained with safe area\r\n                }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\r\n                        {isMobile && (\r\n                            <button onClick={() => setSidebarOpen(true)} style={{ background: 'none', color: 'var(--text-main)', padding: 0 }}>\r\n                                <Menu size={24} />\r\n                            </button>\r\n                        )}\r\n\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                            <Clock size={16} color=\"var(--text-muted)\" />\r\n                            <span style={{ fontWeight: '500', color: 'var(--text-muted)', fontSize: '14px' }}>\r\n                                {new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n                        {/* Dark Mode Toggle */}\r\n                        <button\r\n                            onClick={() => setIsDarkMode(!isDarkMode)}\r\n                            style={{ background: 'none', color: 'var(--text-muted)', padding: 0 }}\r\n                        >\r\n                            {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}\r\n                        </button>\r\n\r\n                        {/* Notifications */}\r\n                        <div style={{ position: 'relative' }}>\r\n                            <button\r\n                                onClick={() => setShowNotifications(!showNotifications)}\r\n                                style={{ background: 'none', color: 'var(--text-muted)', padding: 0 }}\r\n                            >\r\n                                <Bell size={20} />\r\n                                {unreadCount > 0 && (\r\n                                    <span style={{\r\n                                        position: 'absolute',\r\n                                        top: '-5px',\r\n                                        right: '-5px',\r\n                                        backgroundColor: '#ef4444',\r\n                                        color: 'white',\r\n                                        fontSize: '10px',\r\n                                        fontWeight: 'bold',\r\n                                        padding: '2px 5px',\r\n                                        borderRadius: '10px',\r\n                                        border: '2px solid var(--bg-card)'\r\n                                    }}>{unreadCount}</span>\r\n                                )}\r\n                            </button>\r\n\r\n                            {showNotifications && (\r\n                                <div className=\"card\" style={{\r\n                                    position: 'absolute',\r\n                                    top: '40px',\r\n                                    right: 0,\r\n                                    width: '320px',\r\n                                    maxHeight: '450px',\r\n                                    overflowY: 'auto',\r\n                                    zIndex: 1000,\r\n                                    padding: '20px',\r\n                                    boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column'\r\n                                }}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n                                        <h4 style={{ margin: 0, fontSize: '16px', fontWeight: '800' }}>Notifications</h4>\r\n                                        {unreadCount > 0 && (\r\n                                            <button\r\n                                                onClick={async () => {\r\n                                                    try {\r\n                                                        await api.put('/notifications/read-all');\r\n                                                        fetchNotifications();\r\n                                                    } catch (e) {\r\n                                                        toast.error('Failed to mark all as read');\r\n                                                    }\r\n                                                }}\r\n                                                style={{ background: 'none', color: 'var(--primary)', fontSize: '12px', fontWeight: '700' }}\r\n                                            >\r\n                                                Mark all as read\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    {notifications.length === 0 ? (\r\n                                        <div style={{ textAlign: 'center', padding: '20px', color: 'var(--text-muted)' }}>\r\n                                            <Bell size={24} style={{ opacity: 0.2, marginBottom: '8px' }} />\r\n                                            <p style={{ fontSize: '13px', margin: 0 }}>No notifications yet.</p>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                                            {notifications.map(n => (\r\n                                                <div key={n.id} style={{\r\n                                                    padding: '12px',\r\n                                                    borderRadius: '12px',\r\n                                                    backgroundColor: n.is_read ? 'transparent' : 'rgba(59, 130, 246, 0.05)',\r\n                                                    border: '1px solid',\r\n                                                    borderColor: n.is_read ? 'var(--border)' : 'rgba(59, 130, 246, 0.2)',\r\n                                                    fontSize: '13px',\r\n                                                    display: 'flex',\r\n                                                    justifyContent: 'space-between',\r\n                                                    alignItems: 'flex-start',\r\n                                                    transition: 'all 0.2s'\r\n                                                }}>\r\n                                                    <span style={{ flex: 1, marginRight: '10px', lineHeight: '1.4' }}>{n.message}</span>\r\n                                                    {!n.is_read && (\r\n                                                        <button\r\n                                                            onClick={(e) => {\r\n                                                                e.stopPropagation();\r\n                                                                markAsRead(n.id);\r\n                                                            }}\r\n                                                            style={{ background: 'none', color: '#10b981', padding: '4px' }}\r\n                                                        >\r\n                                                            <Check size={16} />\r\n                                                        </button>\r\n                                                    )}\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', paddingLeft: isMobile ? '10px' : '20px', borderLeft: '1px solid var(--border)' }}>\r\n                            {!isMobile && (\r\n                                <div style={{ textAlign: 'right' }}>\r\n                                    <div style={{ fontWeight: '700', fontSize: '14px' }}>{user?.name}</div>\r\n                                    <div style={{ fontSize: '12px', color: 'var(--text-muted)' }}>Timetable App</div>\r\n                                </div>\r\n                            )}\r\n                            <div style={{\r\n                                width: '40px',\r\n                                height: '40px',\r\n                                borderRadius: '12px',\r\n                                backgroundColor: 'var(--primary)',\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                color: 'white'\r\n                            }}>\r\n                                <User size={20} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Page Content */}\r\n                <main style={{\r\n                    padding: isMobile ? '16px' : '30px',\r\n                    paddingBottom: 'calc(16px + env(safe-area-inset-bottom))',\r\n                    flex: 1,\r\n                    overflowY: 'auto'\r\n                }}>\r\n                    {children}\r\n                </main>\r\n            </div >\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}