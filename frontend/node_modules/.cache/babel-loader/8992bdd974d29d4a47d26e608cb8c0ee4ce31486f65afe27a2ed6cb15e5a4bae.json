{"ast":null,"code":"import _objectSpread from\"D:/time table/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';// Mock Database for Offline Mode\n// We initialize it if it doesn't exist\nconst getLocalDB=()=>{const saved=localStorage.getItem('offline_db');return saved?JSON.parse(saved):{timetable:[],notifications:[],userSettings:{}};};const saveLocalDB=db=>localStorage.setItem('offline_db',JSON.stringify(db));// Helper to simulate a slight network delay (optional, makes it feel less \"instant\"/fake if desired, but for offline, instant is good)\nconst delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));const api=axios.create({baseURL:'http://localhost:3000'// Dummy URL, we won't hit it\n});// Full Override of the Request Adapter to prevent ANY network calls\napi.defaults.adapter=async config=>{console.log(\"[OFFLINE ACTIONS] \".concat(config.method.toUpperCase(),\" \").concat(config.url));// Simulate tiny delay for better UX (prevent flickering)\nawait delay(100);const db=getLocalDB();// -------------------------------------------------------------------------\n// TIMETABLE ROUTES\n// -------------------------------------------------------------------------\n// GET /timetable\nif(config.url==='/timetable'&&config.method==='get'){// Filter out deleted items? NO, we just delete them from array.\nreturn{data:db.timetable,status:200,statusText:'OK',headers:{},config};}// POST /timetable\nif(config.url==='/timetable'&&config.method==='post'){const requestData=typeof config.data==='string'?JSON.parse(config.data):config.data;const newEntry=_objectSpread(_objectSpread({id:Date.now()},requestData),{},{is_completed:false,created_at:new Date().toISOString()});db.timetable.push(newEntry);saveLocalDB(db);return{data:newEntry,status:201,statusText:'Created',headers:{},config};}// PUT /timetable/:id\nif(config.url.startsWith('/timetable/')&&config.method==='put'){const id=parseInt(config.url.split('/').pop());const requestData=typeof config.data==='string'?JSON.parse(config.data):config.data;const index=db.timetable.findIndex(t=>t.id===id);if(index!==-1){db.timetable[index]=_objectSpread(_objectSpread({},db.timetable[index]),requestData);saveLocalDB(db);return{data:db.timetable[index],status:200,statusText:'OK',headers:{},config};}return{data:{message:'Not Found'},status:404,statusText:'Not Found',headers:{},config};}// DELETE /timetable/:id\nif(config.url.startsWith('/timetable/')&&config.method==='delete'){const id=parseInt(config.url.split('/').pop());db.timetable=db.timetable.filter(t=>t.id!==id);saveLocalDB(db);return{data:{message:'Deleted'},status:200,statusText:'OK',headers:{},config};}// -------------------------------------------------------------------------\n// NOTIFICATION/SETTINGS ROUTES\n// -------------------------------------------------------------------------\n// GET /notifications\nif(config.url==='/notifications'&&config.method==='get'){return{data:db.notifications||[],status:200,statusText:'OK',headers:{},config};}// PUT /auth/profile (Settings)\nif(config.url.includes('/auth/profile')&&config.method==='put'){return{data:{message:'Profile updated offline'},status:200,statusText:'OK',headers:{},config};}// Ping\nif(config.url==='/api/ping'){return{data:{message:'Pong'},status:200,statusText:'OK',headers:{},config};}// Default fallback\nreturn{data:{message:'Offline Mock: Route not found'},status:404,statusText:'Not Found',headers:{},config};};export default api;","map":{"version":3,"names":["axios","getLocalDB","saved","localStorage","getItem","JSON","parse","timetable","notifications","userSettings","saveLocalDB","db","setItem","stringify","delay","ms","Promise","resolve","setTimeout","api","create","baseURL","defaults","adapter","config","console","log","concat","method","toUpperCase","url","data","status","statusText","headers","requestData","newEntry","_objectSpread","id","Date","now","is_completed","created_at","toISOString","push","startsWith","parseInt","split","pop","index","findIndex","t","message","filter","includes"],"sources":["D:/time table/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Mock Database for Offline Mode\r\n// We initialize it if it doesn't exist\r\nconst getLocalDB = () => {\r\n    const saved = localStorage.getItem('offline_db');\r\n    return saved ? JSON.parse(saved) : { timetable: [], notifications: [], userSettings: {} };\r\n};\r\n\r\nconst saveLocalDB = (db) => localStorage.setItem('offline_db', JSON.stringify(db));\r\n\r\n// Helper to simulate a slight network delay (optional, makes it feel less \"instant\"/fake if desired, but for offline, instant is good)\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3000', // Dummy URL, we won't hit it\r\n});\r\n\r\n// Full Override of the Request Adapter to prevent ANY network calls\r\napi.defaults.adapter = async (config) => {\r\n    console.log(`[OFFLINE ACTIONS] ${config.method.toUpperCase()} ${config.url}`);\r\n\r\n    // Simulate tiny delay for better UX (prevent flickering)\r\n    await delay(100);\r\n\r\n    const db = getLocalDB();\r\n\r\n    // -------------------------------------------------------------------------\r\n    // TIMETABLE ROUTES\r\n    // -------------------------------------------------------------------------\r\n\r\n    // GET /timetable\r\n    if (config.url === '/timetable' && config.method === 'get') {\r\n        // Filter out deleted items? NO, we just delete them from array.\r\n        return { data: db.timetable, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // POST /timetable\r\n    if (config.url === '/timetable' && config.method === 'post') {\r\n        const requestData = typeof config.data === 'string' ? JSON.parse(config.data) : config.data;\r\n        const newEntry = {\r\n            id: Date.now(),\r\n            ...requestData,\r\n            is_completed: false,\r\n            created_at: new Date().toISOString()\r\n        };\r\n        db.timetable.push(newEntry);\r\n        saveLocalDB(db);\r\n        return { data: newEntry, status: 201, statusText: 'Created', headers: {}, config };\r\n    }\r\n\r\n    // PUT /timetable/:id\r\n    if (config.url.startsWith('/timetable/') && config.method === 'put') {\r\n        const id = parseInt(config.url.split('/').pop());\r\n        const requestData = typeof config.data === 'string' ? JSON.parse(config.data) : config.data;\r\n\r\n        const index = db.timetable.findIndex(t => t.id === id);\r\n        if (index !== -1) {\r\n            db.timetable[index] = { ...db.timetable[index], ...requestData };\r\n            saveLocalDB(db);\r\n            return { data: db.timetable[index], status: 200, statusText: 'OK', headers: {}, config };\r\n        }\r\n        return { data: { message: 'Not Found' }, status: 404, statusText: 'Not Found', headers: {}, config };\r\n    }\r\n\r\n    // DELETE /timetable/:id\r\n    if (config.url.startsWith('/timetable/') && config.method === 'delete') {\r\n        const id = parseInt(config.url.split('/').pop());\r\n        db.timetable = db.timetable.filter(t => t.id !== id);\r\n        saveLocalDB(db);\r\n        return { data: { message: 'Deleted' }, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // NOTIFICATION/SETTINGS ROUTES\r\n    // -------------------------------------------------------------------------\r\n\r\n    // GET /notifications\r\n    if (config.url === '/notifications' && config.method === 'get') {\r\n        return { data: db.notifications || [], status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // PUT /auth/profile (Settings)\r\n    if (config.url.includes('/auth/profile') && config.method === 'put') {\r\n        return { data: { message: 'Profile updated offline' }, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // Ping\r\n    if (config.url === '/api/ping') {\r\n        return { data: { message: 'Pong' }, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // Default fallback\r\n    return { data: { message: 'Offline Mock: Route not found' }, status: 404, statusText: 'Not Found', headers: {}, config };\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}