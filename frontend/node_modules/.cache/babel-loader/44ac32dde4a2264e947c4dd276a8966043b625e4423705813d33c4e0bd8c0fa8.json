{"ast":null,"code":"import React,{useState,useEffect}from'react';import{NavLink,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{LayoutDashboard,Calendar,LogOut,Bell,Menu,X,Clock,User,Moon,Sun,Check,Activity,Settings as SettingsIcon}from'lucide-react';import api from'../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{var _navItems$find;let{children}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const[sidebarOpen,setSidebarOpen]=useState(true);const[isDarkMode,setIsDarkMode]=useState(localStorage.getItem('theme')==='dark');const[notifications,setNotifications]=useState([]);const[showNotifications,setShowNotifications]=useState(false);useEffect(()=>{document.documentElement.setAttribute('data-theme',isDarkMode?'dark':'light');localStorage.setItem('theme',isDarkMode?'dark':'light');},[isDarkMode]);const fetchNotifications=async()=>{try{const res=await api.get('/notifications');const newNotifications=res.data;// Show toast for new unread notifications\nnewNotifications.forEach(n=>{const isNew=!notifications.find(old=>old.id===n.id);if(isNew&&!n.is_read){toast(n.message,{icon:'ðŸ””',duration:5000});}});setNotifications(newNotifications);}catch(error){console.error('Failed to fetch notifications');}};useEffect(()=>{fetchNotifications();const interval=setInterval(fetchNotifications,30000);// Poll every 30s\nreturn()=>clearInterval(interval);},[]);const markAsRead=async id=>{try{await api.put(\"/notifications/\".concat(id,\"/read\"));fetchNotifications();}catch(error){toast.error('Failed to mark notification as read');}};const handleLogout=()=>{logout();navigate('/login');};const unreadCount=notifications.filter(n=>!n.is_read).length;const navItems=[{name:'Dashboard',path:'/',icon:/*#__PURE__*/_jsx(LayoutDashboard,{size:20})},{name:'My Timetable',path:'/timetable',icon:/*#__PURE__*/_jsx(Calendar,{size:20})},{name:'Reports',path:'/reports',icon:/*#__PURE__*/_jsx(Activity,{size:20})},{name:'Settings',path:'/settings',icon:/*#__PURE__*/_jsx(SettingsIcon,{size:20})}];const[windowWidth,setWindowWidth]=useState(window.innerWidth);const isMobile=windowWidth<=768;const isTablet=windowWidth>768&&windowWidth<=1024;useEffect(()=>{const handleResize=()=>setWindowWidth(window.innerWidth);window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'100vh',minHeight:'100dvh',backgroundColor:'var(--bg-main)',overflow:'hidden'// Prevent horizontal scroll on outer container\n},children:[isMobile&&sidebarOpen&&/*#__PURE__*/_jsx(\"div\",{onClick:()=>setSidebarOpen(false),style:{position:'fixed',inset:0,backgroundColor:'rgba(0,0,0,0.5)',zIndex:99}}),!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{width:sidebarOpen?'260px':'80px',backgroundColor:'var(--bg-card)',borderRight:'1px solid var(--border)',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',flexDirection:'column',position:'sticky',top:0,height:'100vh',zIndex:100,overflow:'hidden',whiteSpace:'nowrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px',display:'flex',alignItems:'center',justifyContent:'space-between',minHeight:'80px',borderBottom:'1px solid var(--border)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',opacity:sidebarOpen?1:0,transition:'opacity 0.2s'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'32px',height:'32px',background:'var(--primary)',borderRadius:'8px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Activity,{color:\"white\",size:20})}),sidebarOpen&&/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'18px',fontWeight:'800',color:'var(--text-main)',margin:0},children:\"Timetable\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),style:{background:'none',color:'var(--text-muted)'},children:sidebarOpen?/*#__PURE__*/_jsx(X,{size:20}):/*#__PURE__*/_jsx(Menu,{size:20})})]}),/*#__PURE__*/_jsx(\"nav\",{style:{padding:'20px 12px',flex:1,overflowY:'auto'},children:navItems.map(item=>/*#__PURE__*/_jsxs(NavLink,{to:item.path,style:_ref2=>{let{isActive}=_ref2;return{display:'flex',alignItems:'center',padding:'12px 16px',marginBottom:'8px',borderRadius:'12px',textDecoration:'none',color:isActive?'var(--primary)':'var(--text-muted)',backgroundColor:isActive?'rgba(99, 102, 241, 0.1)':'transparent',transition:'all 0.2s',justifyContent:sidebarOpen?'flex-start':'center'};},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:item.icon}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'700',opacity:sidebarOpen?1:0,transform:sidebarOpen?'translateX(0)':'translateX(10px)',transition:'all 0.3s',display:'block'},children:item.name})]},item.path))}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderTop:'1px solid var(--border)'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,style:{display:'flex',alignItems:'center',padding:'12px',width:'100%',borderRadius:'12px',color:'#ef4444',backgroundColor:'transparent',justifyContent:sidebarOpen?'flex-start':'center',whiteSpace:'nowrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(LogOut,{size:20})}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'700',opacity:sidebarOpen?1:0,transition:'opacity 0.2s'},children:\"Logout\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{height:'60px',backgroundColor:'var(--bg-card)',backdropFilter:'blur(10px)',WebkitBackdropFilter:'blur(10px)',borderBottom:'1px solid var(--border)',display:'flex',alignItems:'center',justifyContent:'space-between',padding:isMobile?'0 20px':'0 30px',position:'sticky',top:0,zIndex:90},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px'},children:[!isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),style:{background:'none',color:'var(--text-muted)'},children:/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:isMobile?'18px':'22px',fontWeight:'800',color:'var(--primary)',margin:0,letterSpacing:'-0.8px',lineHeight:1},children:((_navItems$find=navItems.find(item=>item.path===window.location.pathname))===null||_navItems$find===void 0?void 0:_navItems$find.name)||'Dashboard'}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',opacity:0.5,fontWeight:'800',color:'#10b981'},children:\"v3.2-UNIVERSAL\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsDarkMode(!isDarkMode),style:{background:'none',color:'var(--text-muted)',padding:0},children:isDarkMode?/*#__PURE__*/_jsx(Sun,{size:20}):/*#__PURE__*/_jsx(Moon,{size:20})}),!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),style:{background:'none',color:'var(--text-muted)',padding:0},children:[/*#__PURE__*/_jsx(Bell,{size:20}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-5px',right:'-5px',backgroundColor:'#ef4444',color:'white',fontSize:'10px',fontWeight:'bold',padding:'2px 5px',borderRadius:'10px',border:'2px solid var(--bg-card)'},children:unreadCount})]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{position:'absolute',top:'40px',right:0,width:'320px',maxHeight:'450px',overflowY:'auto',zIndex:1000,padding:'20px',boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'16px',fontWeight:'800'},children:\"Notifications\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await api.put('/notifications/read-all');fetchNotifications();}catch(e){toast.error('Failed to mark all as read');}},style:{background:'none',color:'var(--primary)',fontSize:'12px',fontWeight:'700'},children:\"Mark all as read\"})]}),notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(Bell,{size:24,style:{opacity:0.2,marginBottom:'8px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',margin:0},children:\"No notifications yet.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:notifications.map(n=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',borderRadius:'12px',backgroundColor:n.is_read?'transparent':'rgba(59, 130, 246, 0.05)',border:'1px solid',borderColor:n.is_read?'var(--border)':'rgba(59, 130, 246, 0.2)',fontSize:'13px',display:'flex',justifyContent:'space-between',alignItems:'flex-start',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(\"span\",{style:{flex:1,marginRight:'10px',lineHeight:'1.4'},children:n.message}),!n.is_read&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();markAsRead(n.id);},style:{background:'none',color:'#10b981',padding:'4px'},children:/*#__PURE__*/_jsx(Check,{size:16})})]},n.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',paddingLeft:isMobile?'10px':'20px',borderLeft:'1px solid var(--border)'},children:[!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'700',fontSize:'14px'},children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'var(--text-muted)'},children:\"Timetable App\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'12px',backgroundColor:'var(--primary)',display:'flex',justifyContent:'center',alignItems:'center',color:'white'},children:/*#__PURE__*/_jsx(User,{size:20})})]})]})]}),/*#__PURE__*/_jsx(\"main\",{style:{padding:isMobile?'16px':'30px',flex:1,overflowY:'auto',overflowX:'hidden',width:'100%',maxWidth:'100vw',boxSizing:'border-box',paddingBottom:isMobile?'100px':'40px',display:'flex',flexDirection:'column'},children:children}),isMobile&&/*#__PURE__*/_jsx(\"nav\",{style:{position:'fixed',bottom:0,left:0,right:0,height:'70px',paddingBottom:'env(safe-area-inset-bottom)',backgroundColor:'var(--bg-card)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',borderTop:'1px solid var(--border)',display:'flex',justifyContent:'space-around',alignItems:'center',zIndex:1000,boxShadow:'0 -4px 20px rgba(0,0,0,0.05)'},children:navItems.map(item=>/*#__PURE__*/_jsxs(NavLink,{to:item.path,style:_ref3=>{let{isActive}=_ref3;return{display:'flex',flexDirection:'column',alignItems:'center',gap:'6px',textDecoration:'none',color:isActive?'var(--primary)':'var(--text-muted)',transition:'all 0.2s',position:'relative',padding:'8px 12px'};},children:[/*#__PURE__*/_jsx(\"div\",{style:{transition:'transform 0.2s',transform:'scale(1.1)'},children:item.icon}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',fontWeight:'700',letterSpacing:'0.02em'},children:item.name}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-12px',width:'20px',height:'4px',borderRadius:'0 0 4px 4px',backgroundColor:'var(--primary)',opacity:0,transition:'opacity 0.2s'},className:\"nav-indicator\"})]},item.path))})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useNavigate","useAuth","LayoutDashboard","Calendar","LogOut","Bell","Menu","X","Clock","User","Moon","Sun","Check","Activity","Settings","SettingsIcon","api","toast","jsx","_jsx","jsxs","_jsxs","Layout","_ref","_navItems$find","children","user","logout","navigate","sidebarOpen","setSidebarOpen","isDarkMode","setIsDarkMode","localStorage","getItem","notifications","setNotifications","showNotifications","setShowNotifications","document","documentElement","setAttribute","setItem","fetchNotifications","res","get","newNotifications","data","forEach","n","isNew","find","old","id","is_read","message","icon","duration","error","console","interval","setInterval","clearInterval","markAsRead","put","concat","handleLogout","unreadCount","filter","length","navItems","name","path","size","windowWidth","setWindowWidth","window","innerWidth","isMobile","isTablet","handleResize","addEventListener","removeEventListener","style","display","minHeight","backgroundColor","overflow","onClick","position","inset","zIndex","width","borderRight","transition","flexDirection","top","height","whiteSpace","padding","alignItems","justifyContent","borderBottom","gap","opacity","background","borderRadius","color","fontSize","fontWeight","margin","flex","overflowY","map","item","to","_ref2","isActive","marginBottom","textDecoration","minWidth","marginLeft","transform","borderTop","backdropFilter","WebkitBackdropFilter","letterSpacing","lineHeight","location","pathname","right","border","className","maxHeight","boxShadow","e","textAlign","borderColor","marginRight","stopPropagation","paddingLeft","borderLeft","overflowX","maxWidth","boxSizing","paddingBottom","bottom","left","_ref3"],"sources":["D:/time table/frontend/src/components/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport {\r\n    LayoutDashboard,\r\n    Calendar,\r\n    LogOut,\r\n    Bell,\r\n    Menu,\r\n    X,\r\n    Clock,\r\n    User,\r\n    Moon,\r\n    Sun,\r\n    Check,\r\n    Activity,\r\n    Settings as SettingsIcon\r\n} from 'lucide-react';\r\nimport api from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Layout = ({ children }) => {\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [isDarkMode, setIsDarkMode] = useState(localStorage.getItem('theme') === 'dark');\r\n    const [notifications, setNotifications] = useState([]);\r\n    const [showNotifications, setShowNotifications] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.documentElement.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');\r\n        localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\r\n    }, [isDarkMode]);\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            const res = await api.get('/notifications');\r\n            const newNotifications = res.data;\r\n\r\n            // Show toast for new unread notifications\r\n            newNotifications.forEach(n => {\r\n                const isNew = !notifications.find(old => old.id === n.id);\r\n                if (isNew && !n.is_read) {\r\n                    toast(n.message, { icon: 'ðŸ””', duration: 5000 });\r\n                }\r\n            });\r\n\r\n            setNotifications(newNotifications);\r\n        } catch (error) {\r\n            console.error('Failed to fetch notifications');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n        const interval = setInterval(fetchNotifications, 30000); // Poll every 30s\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const markAsRead = async (id) => {\r\n        try {\r\n            await api.put(`/notifications/${id}/read`);\r\n            fetchNotifications();\r\n        } catch (error) {\r\n            toast.error('Failed to mark notification as read');\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate('/login');\r\n    };\r\n\r\n    const unreadCount = notifications.filter(n => !n.is_read).length;\r\n\r\n    const navItems = [\r\n        { name: 'Dashboard', path: '/', icon: <LayoutDashboard size={20} /> },\r\n        { name: 'My Timetable', path: '/timetable', icon: <Calendar size={20} /> },\r\n        { name: 'Reports', path: '/reports', icon: <Activity size={20} /> },\r\n        { name: 'Settings', path: '/settings', icon: <SettingsIcon size={20} /> },\r\n    ];\r\n\r\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n    const isMobile = windowWidth <= 768;\r\n    const isTablet = windowWidth > 768 && windowWidth <= 1024;\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => setWindowWidth(window.innerWidth);\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            minHeight: '100vh',\r\n            minHeight: '100dvh',\r\n            backgroundColor: 'var(--bg-main)',\r\n            overflow: 'hidden' // Prevent horizontal scroll on outer container\r\n        }}>\r\n            {/* Mobile Overlay */}\r\n            {isMobile && sidebarOpen && (\r\n                <div\r\n                    onClick={() => setSidebarOpen(false)}\r\n                    style={{\r\n                        position: 'fixed',\r\n                        inset: 0,\r\n                        backgroundColor: 'rgba(0,0,0,0.5)',\r\n                        zIndex: 99\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Sidebar (Desktop Only) */}\r\n            {!isMobile && (\r\n                <div style={{\r\n                    width: sidebarOpen ? '260px' : '80px',\r\n                    backgroundColor: 'var(--bg-card)',\r\n                    borderRight: '1px solid var(--border)',\r\n                    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    height: '100vh',\r\n                    zIndex: 100,\r\n                    overflow: 'hidden',\r\n                    whiteSpace: 'nowrap',\r\n                }}>\r\n                    <div style={{\r\n                        padding: '24px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        minHeight: '80px',\r\n                        borderBottom: '1px solid var(--border)'\r\n                    }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', opacity: sidebarOpen ? 1 : 0, transition: 'opacity 0.2s' }}>\r\n                            <div style={{ width: '32px', height: '32px', background: 'var(--primary)', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <Activity color=\"white\" size={20} />\r\n                            </div>\r\n                            {sidebarOpen && <h1 style={{ fontSize: '18px', fontWeight: '800', color: 'var(--text-main)', margin: 0 }}>Timetable</h1>}\r\n                        </div>\r\n                        <button onClick={() => setSidebarOpen(!sidebarOpen)} style={{ background: 'none', color: 'var(--text-muted)' }}>\r\n                            {sidebarOpen ? <X size={20} /> : <Menu size={20} />}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <nav style={{ padding: '20px 12px', flex: 1, overflowY: 'auto' }}>\r\n                        {navItems.map((item) => (\r\n                            <NavLink\r\n                                key={item.path}\r\n                                to={item.path}\r\n                                style={({ isActive }) => ({\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    padding: '12px 16px',\r\n                                    marginBottom: '8px',\r\n                                    borderRadius: '12px',\r\n                                    textDecoration: 'none',\r\n                                    color: isActive ? 'var(--primary)' : 'var(--text-muted)',\r\n                                    backgroundColor: isActive ? 'rgba(99, 102, 241, 0.1)' : 'transparent',\r\n                                    transition: 'all 0.2s',\r\n                                    justifyContent: sidebarOpen ? 'flex-start' : 'center'\r\n                                })}\r\n                            >\r\n                                <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}>{item.icon}</div>\r\n                                <span style={{\r\n                                    marginLeft: '12px',\r\n                                    fontWeight: '700',\r\n                                    opacity: sidebarOpen ? 1 : 0,\r\n                                    transform: sidebarOpen ? 'translateX(0)' : 'translateX(10px)',\r\n                                    transition: 'all 0.3s',\r\n                                    display: 'block'\r\n                                }}>\r\n                                    {item.name}\r\n                                </span>\r\n                            </NavLink>\r\n                        ))}\r\n                    </nav>\r\n\r\n                    <div style={{ padding: '20px', borderTop: '1px solid var(--border)' }}>\r\n                        <button\r\n                            onClick={handleLogout}\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                padding: '12px',\r\n                                width: '100%',\r\n                                borderRadius: '12px',\r\n                                color: '#ef4444',\r\n                                backgroundColor: 'transparent',\r\n                                justifyContent: sidebarOpen ? 'flex-start' : 'center',\r\n                                whiteSpace: 'nowrap'\r\n                            }}\r\n                        >\r\n                            <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}><LogOut size={20} /></div>\r\n                            <span style={{\r\n                                marginLeft: '12px',\r\n                                fontWeight: '700',\r\n                                opacity: sidebarOpen ? 1 : 0,\r\n                                transition: 'opacity 0.2s'\r\n                            }}>Logout</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Main Content */}\r\n            <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n                {/* Header */}\r\n                <header style={{\r\n                    height: '60px',\r\n                    backgroundColor: 'var(--bg-card)',\r\n                    backdropFilter: 'blur(10px)',\r\n                    WebkitBackdropFilter: 'blur(10px)',\r\n                    borderBottom: '1px solid var(--border)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    padding: isMobile ? '0 20px' : '0 30px',\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    zIndex: 90,\r\n                }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\r\n                        {/* Hidden on mobile as we use Bottom Nav */}\r\n                        {!isMobile && (\r\n                            <button onClick={() => setSidebarOpen(!sidebarOpen)} style={{ background: 'none', color: 'var(--text-muted)' }}>\r\n                                <Menu size={24} />\r\n                            </button>\r\n                        )}\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <h1 style={{\r\n                                fontSize: isMobile ? '18px' : '22px',\r\n                                fontWeight: '800',\r\n                                color: 'var(--primary)',\r\n                                margin: 0,\r\n                                letterSpacing: '-0.8px',\r\n                                lineHeight: 1\r\n                            }}>\r\n                                {navItems.find(item => item.path === window.location.pathname)?.name || 'Dashboard'}\r\n                            </h1>\r\n                            <span style={{ fontSize: '10px', opacity: 0.5, fontWeight: '800', color: '#10b981' }}>v3.2-UNIVERSAL</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n                        {/* Dark Mode Toggle */}\r\n                        <button\r\n                            onClick={() => setIsDarkMode(!isDarkMode)}\r\n                            style={{ background: 'none', color: 'var(--text-muted)', padding: 0 }}\r\n                        >\r\n                            {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}\r\n                        </button>\r\n\r\n                        {/* Notifications (Hidden on mobile) */}\r\n                        {!isMobile && (\r\n                            <div style={{ position: 'relative' }}>\r\n                                <button\r\n                                    onClick={() => setShowNotifications(!showNotifications)}\r\n                                    style={{ background: 'none', color: 'var(--text-muted)', padding: 0 }}\r\n                                >\r\n                                    <Bell size={20} />\r\n                                    {unreadCount > 0 && (\r\n                                        <span style={{\r\n                                            position: 'absolute',\r\n                                            top: '-5px',\r\n                                            right: '-5px',\r\n                                            backgroundColor: '#ef4444',\r\n                                            color: 'white',\r\n                                            fontSize: '10px',\r\n                                            fontWeight: 'bold',\r\n                                            padding: '2px 5px',\r\n                                            borderRadius: '10px',\r\n                                            border: '2px solid var(--bg-card)'\r\n                                        }}>{unreadCount}</span>\r\n                                    )}\r\n                                </button>\r\n\r\n                                {showNotifications && (\r\n                                    <div className=\"card\" style={{\r\n                                        position: 'absolute',\r\n                                        top: '40px',\r\n                                        right: 0,\r\n                                        width: '320px',\r\n                                        maxHeight: '450px',\r\n                                        overflowY: 'auto',\r\n                                        zIndex: 1000,\r\n                                        padding: '20px',\r\n                                        boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'column'\r\n                                    }}>\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n                                            <h4 style={{ margin: 0, fontSize: '16px', fontWeight: '800' }}>Notifications</h4>\r\n                                            {unreadCount > 0 && (\r\n                                                <button\r\n                                                    onClick={async () => {\r\n                                                        try {\r\n                                                            await api.put('/notifications/read-all');\r\n                                                            fetchNotifications();\r\n                                                        } catch (e) {\r\n                                                            toast.error('Failed to mark all as read');\r\n                                                        }\r\n                                                    }}\r\n                                                    style={{ background: 'none', color: 'var(--primary)', fontSize: '12px', fontWeight: '700' }}\r\n                                                >\r\n                                                    Mark all as read\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                        {notifications.length === 0 ? (\r\n                                            <div style={{ textAlign: 'center', padding: '20px', color: 'var(--text-muted)' }}>\r\n                                                <Bell size={24} style={{ opacity: 0.2, marginBottom: '8px' }} />\r\n                                                <p style={{ fontSize: '13px', margin: 0 }}>No notifications yet.</p>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                                                {notifications.map(n => (\r\n                                                    <div key={n.id} style={{\r\n                                                        padding: '12px',\r\n                                                        borderRadius: '12px',\r\n                                                        backgroundColor: n.is_read ? 'transparent' : 'rgba(59, 130, 246, 0.05)',\r\n                                                        border: '1px solid',\r\n                                                        borderColor: n.is_read ? 'var(--border)' : 'rgba(59, 130, 246, 0.2)',\r\n                                                        fontSize: '13px',\r\n                                                        display: 'flex',\r\n                                                        justifyContent: 'space-between',\r\n                                                        alignItems: 'flex-start',\r\n                                                        transition: 'all 0.2s'\r\n                                                    }}>\r\n                                                        <span style={{ flex: 1, marginRight: '10px', lineHeight: '1.4' }}>{n.message}</span>\r\n                                                        {!n.is_read && (\r\n                                                            <button\r\n                                                                onClick={(e) => {\r\n                                                                    e.stopPropagation();\r\n                                                                    markAsRead(n.id);\r\n                                                                }}\r\n                                                                style={{ background: 'none', color: '#10b981', padding: '4px' }}\r\n                                                            >\r\n                                                                <Check size={16} />\r\n                                                            </button>\r\n                                                        )}\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', paddingLeft: isMobile ? '10px' : '20px', borderLeft: '1px solid var(--border)' }}>\r\n                            {!isMobile && (\r\n                                <div style={{ textAlign: 'right' }}>\r\n                                    <div style={{ fontWeight: '700', fontSize: '14px' }}>{user?.name}</div>\r\n                                    <div style={{ fontSize: '12px', color: 'var(--text-muted)' }}>Timetable App</div>\r\n                                </div>\r\n                            )}\r\n                            <div style={{\r\n                                width: '40px',\r\n                                height: '40px',\r\n                                borderRadius: '12px',\r\n                                backgroundColor: 'var(--primary)',\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                color: 'white'\r\n                            }}>\r\n                                <User size={20} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Page Content */}\r\n                <main style={{\r\n                    padding: isMobile ? '16px' : '30px',\r\n                    flex: 1,\r\n                    overflowY: 'auto',\r\n                    overflowX: 'hidden',\r\n                    width: '100%',\r\n                    maxWidth: '100vw',\r\n                    boxSizing: 'border-box',\r\n                    paddingBottom: isMobile ? '100px' : '40px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                }}>\r\n                    {children}\r\n                </main>\r\n\r\n                {/* Bottom Navigation (Mobile Only) */}\r\n                {isMobile && (\r\n                    <nav style={{\r\n                        position: 'fixed',\r\n                        bottom: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        height: '70px',\r\n                        paddingBottom: 'env(safe-area-inset-bottom)',\r\n                        backgroundColor: 'var(--bg-card)',\r\n                        backdropFilter: 'blur(20px)',\r\n                        WebkitBackdropFilter: 'blur(20px)',\r\n                        borderTop: '1px solid var(--border)',\r\n                        display: 'flex',\r\n                        justifyContent: 'space-around',\r\n                        alignItems: 'center',\r\n                        zIndex: 1000,\r\n                        boxShadow: '0 -4px 20px rgba(0,0,0,0.05)'\r\n                    }}>\r\n                        {navItems.map((item) => (\r\n                            <NavLink\r\n                                key={item.path}\r\n                                to={item.path}\r\n                                style={({ isActive }) => ({\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'center',\r\n                                    gap: '6px',\r\n                                    textDecoration: 'none',\r\n                                    color: isActive ? 'var(--primary)' : 'var(--text-muted)',\r\n                                    transition: 'all 0.2s',\r\n                                    position: 'relative',\r\n                                    padding: '8px 12px',\r\n                                })}\r\n                            >\r\n                                <div style={{\r\n                                    transition: 'transform 0.2s',\r\n                                    transform: 'scale(1.1)'\r\n                                }}>\r\n                                    {item.icon}\r\n                                </div>\r\n                                <span style={{\r\n                                    fontSize: '11px',\r\n                                    fontWeight: '700',\r\n                                    letterSpacing: '0.02em'\r\n                                }}>{item.name}</span>\r\n                                <div style={{\r\n                                    position: 'absolute',\r\n                                    top: '-12px',\r\n                                    width: '20px',\r\n                                    height: '4px',\r\n                                    borderRadius: '0 0 4px 4px',\r\n                                    backgroundColor: 'var(--primary)',\r\n                                    opacity: 0,\r\n                                    transition: 'opacity 0.2s'\r\n                                }} className=\"nav-indicator\" />\r\n                            </NavLink>\r\n                        ))}\r\n                    </nav>\r\n                )}\r\n            </div >\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}