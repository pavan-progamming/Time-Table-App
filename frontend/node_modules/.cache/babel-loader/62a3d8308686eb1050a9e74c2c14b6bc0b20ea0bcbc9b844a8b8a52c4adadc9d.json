{"ast":null,"code":"import React,{useState,useEffect}from'react';import{NavLink,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{LayoutDashboard,Calendar,LogOut,Bell,Menu,X,Clock,User,Moon,Sun,Check,Activity,Settings as SettingsIcon}from'lucide-react';import api from'../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{var _navItems$find;let{children}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const[sidebarOpen,setSidebarOpen]=useState(true);// Permanently open on desktop\nconst[isDarkMode,setIsDarkMode]=useState(localStorage.getItem('theme')==='dark');const[notifications,setNotifications]=useState([]);const[showNotifications,setShowNotifications]=useState(false);useEffect(()=>{document.documentElement.setAttribute('data-theme',isDarkMode?'dark':'light');localStorage.setItem('theme',isDarkMode?'dark':'light');},[isDarkMode]);const fetchNotifications=async()=>{try{const res=await api.get('/notifications');const newNotifications=res.data;// Show toast for new unread notifications\nnewNotifications.forEach(n=>{const isNew=!notifications.find(old=>old.id===n.id);if(isNew&&!n.is_read){toast(n.message,{icon:'ðŸ””',duration:5000});}});setNotifications(newNotifications);}catch(error){console.error('Failed to fetch notifications');}};useEffect(()=>{fetchNotifications();const interval=setInterval(fetchNotifications,30000);// Poll every 30s\nreturn()=>clearInterval(interval);},[]);const markAsRead=async id=>{try{await api.put(\"/notifications/\".concat(id,\"/read\"));fetchNotifications();}catch(error){toast.error('Failed to mark notification as read');}};const handleLogout=()=>{logout();navigate('/login');};const unreadCount=notifications.filter(n=>!n.is_read).length;const navItems=[{name:'Dashboard',path:'/',icon:/*#__PURE__*/_jsx(LayoutDashboard,{size:20})},{name:'My Timetable',path:'/timetable',icon:/*#__PURE__*/_jsx(Calendar,{size:20})},{name:'Reports',path:'/reports',icon:/*#__PURE__*/_jsx(Activity,{size:20})},{name:'Settings',path:'/settings',icon:/*#__PURE__*/_jsx(SettingsIcon,{size:20})}];const[windowSize,setWindowSize]=useState({width:window.innerWidth,height:window.innerHeight});const isMobile=windowSize.width<=768||windowSize.height<=500&&windowSize.width<=1024;const isLandscape=windowSize.width>windowSize.height;useEffect(()=>{const handleResize=()=>setWindowSize({width:window.innerWidth,height:window.innerHeight});window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'100vh',minHeight:'100dvh',backgroundColor:'var(--bg-main)',overflow:'hidden'// Prevent horizontal scroll on outer container\n},children:[!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{width:sidebarOpen?'260px':'80px',backgroundColor:'var(--bg-card)',borderRight:'1px solid var(--border)',transition:'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',display:'flex',flexDirection:'column',position:'sticky',top:0,height:'100vh',zIndex:100,overflow:'hidden',whiteSpace:'nowrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'24px',display:'flex',alignItems:'center',justifyContent:'center',minHeight:'80px',borderBottom:'1px solid var(--border)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',transition:'all 0.3s'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'32px',height:'32px',background:'linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)',borderRadius:'8px',display:'flex',alignItems:'center',justifyContent:'center',boxShadow:'0 4px 10px rgba(99, 102, 241, 0.3)'},children:/*#__PURE__*/_jsx(Activity,{color:\"white\",size:20})}),sidebarOpen&&/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'18px',fontWeight:'800',color:'var(--text-main)',margin:0},children:\"Timetable\"})]})}),/*#__PURE__*/_jsx(\"nav\",{style:{padding:'20px 12px',flex:1,overflowY:'auto'},children:navItems.map(item=>/*#__PURE__*/_jsxs(NavLink,{to:item.path,style:_ref2=>{let{isActive}=_ref2;return{display:'flex',alignItems:'center',padding:'12px 16px',marginBottom:'8px',borderRadius:'12px',textDecoration:'none',color:isActive?'var(--primary)':'var(--text-muted)',backgroundColor:isActive?'rgba(99, 102, 241, 0.1)':'transparent',transition:'all 0.2s',justifyContent:sidebarOpen?'flex-start':'center'};},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:item.icon}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'700',opacity:sidebarOpen?1:0,transform:sidebarOpen?'translateX(0)':'translateX(10px)',transition:'all 0.3s',display:'block'},children:item.name})]},item.path))}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderTop:'1px solid var(--border)'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,style:{display:'flex',alignItems:'center',padding:'12px',width:'100%',borderRadius:'12px',color:'#ef4444',backgroundColor:'transparent',justifyContent:sidebarOpen?'flex-start':'center',whiteSpace:'nowrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(LogOut,{size:20})}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'700',opacity:sidebarOpen?1:0,transition:'opacity 0.2s'},children:\"Logout\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{height:'60px',backgroundColor:'var(--bg-card)',backdropFilter:'blur(10px)',WebkitBackdropFilter:'blur(10px)',borderBottom:'1px solid var(--border)',display:'flex',alignItems:'center',justifyContent:'space-between',padding:isMobile?'0 16px':'0 30px',position:'sticky',top:0,zIndex:90,overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'15px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:isMobile?'18px':'22px',fontWeight:'800',color:'var(--primary)',margin:0,letterSpacing:'-0.8px',lineHeight:1},children:((_navItems$find=navItems.find(item=>item.path===window.location.pathname))===null||_navItems$find===void 0?void 0:_navItems$find.name)||'Dashboard'}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px',opacity:0.5,fontWeight:'800',color:'#10b981'},children:\"v3.2-UNIVERSAL\"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsDarkMode(!isDarkMode),style:{background:'none',color:'var(--text-muted)',padding:0},children:isDarkMode?/*#__PURE__*/_jsx(Sun,{size:20}):/*#__PURE__*/_jsx(Moon,{size:20})}),isMobile&&/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:{background:'none',color:'#ef4444',padding:0},children:/*#__PURE__*/_jsx(LogOut,{size:20})}),!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),style:{background:'none',color:'var(--text-muted)',padding:0},children:[/*#__PURE__*/_jsx(Bell,{size:20}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-5px',right:'-5px',backgroundColor:'#ef4444',color:'white',fontSize:'10px',fontWeight:'bold',padding:'2px 5px',borderRadius:'10px',border:'2px solid var(--bg-card)'},children:unreadCount})]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{position:'absolute',top:'40px',right:0,width:'320px',maxHeight:'450px',overflowY:'auto',zIndex:1000,padding:'20px',boxShadow:'0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'16px',fontWeight:'800'},children:\"Notifications\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{await api.put('/notifications/read-all');fetchNotifications();}catch(e){toast.error('Failed to mark all as read');}},style:{background:'none',color:'var(--primary)',fontSize:'12px',fontWeight:'700'},children:\"Mark all as read\"})]}),notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(Bell,{size:24,style:{opacity:0.2,marginBottom:'8px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',margin:0},children:\"No notifications yet.\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:notifications.map(n=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',borderRadius:'12px',backgroundColor:n.is_read?'transparent':'rgba(59, 130, 246, 0.05)',border:'1px solid',borderColor:n.is_read?'var(--border)':'rgba(59, 130, 246, 0.2)',fontSize:'13px',display:'flex',justifyContent:'space-between',alignItems:'flex-start',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(\"span\",{style:{flex:1,marginRight:'10px',lineHeight:'1.4'},children:n.message}),!n.is_read&&/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();markAsRead(n.id);},style:{background:'none',color:'#10b981',padding:'4px'},children:/*#__PURE__*/_jsx(Check,{size:16})})]},n.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',paddingLeft:isMobile?'12px':'20px',borderLeft:'1px solid var(--border)',height:'100%'},children:[!isMobile&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right',display:'flex',flexDirection:'column',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'700',fontSize:'14px',lineHeight:'1.2'},children:(user===null||user===void 0?void 0:user.name)||'Guest'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'var(--text-muted)',fontWeight:'600'},children:\"Timetable App\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:isMobile?'36px':'40px',height:isMobile?'36px':'40px',borderRadius:'10px',backgroundColor:'var(--primary)',display:'flex',justifyContent:'center',alignItems:'center',color:'white',boxShadow:'0 4px 10px rgba(99, 102, 241, 0.2)',flexShrink:0},children:/*#__PURE__*/_jsx(User,{size:isMobile?18:20})})]})]})]}),/*#__PURE__*/_jsx(\"main\",{style:{padding:isMobile?'16px':'30px',flex:1,overflowY:'auto',overflowX:'hidden',width:'100%',maxWidth:'100vw',boxSizing:'border-box',paddingBottom:isMobile?'100px':'40px',display:'flex',flexDirection:'column'},children:children}),isMobile&&/*#__PURE__*/_jsx(\"nav\",{style:{position:'fixed',bottom:0,left:0,right:0,height:'70px',paddingBottom:'env(safe-area-inset-bottom)',backgroundColor:'var(--bg-card)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',borderTop:'1px solid var(--border)',display:'flex',justifyContent:'space-around',alignItems:'center',zIndex:1000,boxShadow:'0 -4px 20px rgba(0,0,0,0.05)'},children:navItems.map(item=>/*#__PURE__*/_jsxs(NavLink,{to:item.path,style:_ref3=>{let{isActive}=_ref3;return{display:'flex',flexDirection:'column',alignItems:'center',gap:'6px',textDecoration:'none',color:isActive?'var(--primary)':'var(--text-muted)',transition:'all 0.2s',position:'relative',padding:'8px 12px'};},children:[/*#__PURE__*/_jsx(\"div\",{style:{transition:'transform 0.2s',transform:'scale(1.1)'},children:item.icon}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',fontWeight:'700',letterSpacing:'0.02em'},children:item.name}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-12px',width:'20px',height:'4px',borderRadius:'0 0 4px 4px',backgroundColor:'var(--primary)',opacity:0,transition:'opacity 0.2s'},className:\"nav-indicator\"})]},item.path))})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useNavigate","useAuth","LayoutDashboard","Calendar","LogOut","Bell","Menu","X","Clock","User","Moon","Sun","Check","Activity","Settings","SettingsIcon","api","toast","jsx","_jsx","jsxs","_jsxs","Layout","_ref","_navItems$find","children","user","logout","navigate","sidebarOpen","setSidebarOpen","isDarkMode","setIsDarkMode","localStorage","getItem","notifications","setNotifications","showNotifications","setShowNotifications","document","documentElement","setAttribute","setItem","fetchNotifications","res","get","newNotifications","data","forEach","n","isNew","find","old","id","is_read","message","icon","duration","error","console","interval","setInterval","clearInterval","markAsRead","put","concat","handleLogout","unreadCount","filter","length","navItems","name","path","size","windowSize","setWindowSize","width","window","innerWidth","height","innerHeight","isMobile","isLandscape","handleResize","addEventListener","removeEventListener","style","display","minHeight","backgroundColor","overflow","borderRight","transition","flexDirection","position","top","zIndex","whiteSpace","padding","alignItems","justifyContent","borderBottom","gap","background","borderRadius","boxShadow","color","fontSize","fontWeight","margin","flex","overflowY","map","item","to","_ref2","isActive","marginBottom","textDecoration","minWidth","marginLeft","opacity","transform","borderTop","onClick","backdropFilter","WebkitBackdropFilter","letterSpacing","lineHeight","location","pathname","right","border","className","maxHeight","e","textAlign","borderColor","marginRight","stopPropagation","paddingLeft","borderLeft","flexShrink","overflowX","maxWidth","boxSizing","paddingBottom","bottom","left","_ref3"],"sources":["D:/time table/frontend/src/components/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport {\r\n    LayoutDashboard,\r\n    Calendar,\r\n    LogOut,\r\n    Bell,\r\n    Menu,\r\n    X,\r\n    Clock,\r\n    User,\r\n    Moon,\r\n    Sun,\r\n    Check,\r\n    Activity,\r\n    Settings as SettingsIcon\r\n} from 'lucide-react';\r\nimport api from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Layout = ({ children }) => {\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [sidebarOpen, setSidebarOpen] = useState(true); // Permanently open on desktop\r\n    const [isDarkMode, setIsDarkMode] = useState(localStorage.getItem('theme') === 'dark');\r\n    const [notifications, setNotifications] = useState([]);\r\n    const [showNotifications, setShowNotifications] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.documentElement.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');\r\n        localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\r\n    }, [isDarkMode]);\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            const res = await api.get('/notifications');\r\n            const newNotifications = res.data;\r\n\r\n            // Show toast for new unread notifications\r\n            newNotifications.forEach(n => {\r\n                const isNew = !notifications.find(old => old.id === n.id);\r\n                if (isNew && !n.is_read) {\r\n                    toast(n.message, { icon: 'ðŸ””', duration: 5000 });\r\n                }\r\n            });\r\n\r\n            setNotifications(newNotifications);\r\n        } catch (error) {\r\n            console.error('Failed to fetch notifications');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n        const interval = setInterval(fetchNotifications, 30000); // Poll every 30s\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const markAsRead = async (id) => {\r\n        try {\r\n            await api.put(`/notifications/${id}/read`);\r\n            fetchNotifications();\r\n        } catch (error) {\r\n            toast.error('Failed to mark notification as read');\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate('/login');\r\n    };\r\n\r\n    const unreadCount = notifications.filter(n => !n.is_read).length;\r\n\r\n    const navItems = [\r\n        { name: 'Dashboard', path: '/', icon: <LayoutDashboard size={20} /> },\r\n        { name: 'My Timetable', path: '/timetable', icon: <Calendar size={20} /> },\r\n        { name: 'Reports', path: '/reports', icon: <Activity size={20} /> },\r\n        { name: 'Settings', path: '/settings', icon: <SettingsIcon size={20} /> },\r\n    ];\r\n\r\n    const [windowSize, setWindowSize] = useState({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    });\r\n    const isMobile = windowSize.width <= 768 || (windowSize.height <= 500 && windowSize.width <= 1024);\r\n    const isLandscape = windowSize.width > windowSize.height;\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => setWindowSize({\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n        });\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            minHeight: '100vh',\r\n            minHeight: '100dvh',\r\n            backgroundColor: 'var(--bg-main)',\r\n            overflow: 'hidden' // Prevent horizontal scroll on outer container\r\n        }}>\r\n            {/* Mobile Sidebar (Slide-in) - Removed as redundant with bottom nav */}\r\n\r\n            {/* Sidebar (Desktop Only) */}\r\n            {!isMobile && (\r\n                <div style={{\r\n                    width: sidebarOpen ? '260px' : '80px',\r\n                    backgroundColor: 'var(--bg-card)',\r\n                    borderRight: '1px solid var(--border)',\r\n                    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    height: '100vh',\r\n                    zIndex: 100,\r\n                    overflow: 'hidden',\r\n                    whiteSpace: 'nowrap',\r\n                }}>\r\n                    <div style={{\r\n                        padding: '24px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        minHeight: '80px',\r\n                        borderBottom: '1px solid var(--border)'\r\n                    }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', transition: 'all 0.3s' }}>\r\n                            <div style={{\r\n                                width: '32px',\r\n                                height: '32px',\r\n                                background: 'linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%)',\r\n                                borderRadius: '8px',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                boxShadow: '0 4px 10px rgba(99, 102, 241, 0.3)'\r\n                            }}>\r\n                                <Activity color=\"white\" size={20} />\r\n                            </div>\r\n                            {sidebarOpen && <h1 style={{ fontSize: '18px', fontWeight: '800', color: 'var(--text-main)', margin: 0 }}>Timetable</h1>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <nav style={{ padding: '20px 12px', flex: 1, overflowY: 'auto' }}>\r\n                        {navItems.map((item) => (\r\n                            <NavLink\r\n                                key={item.path}\r\n                                to={item.path}\r\n                                style={({ isActive }) => ({\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    padding: '12px 16px',\r\n                                    marginBottom: '8px',\r\n                                    borderRadius: '12px',\r\n                                    textDecoration: 'none',\r\n                                    color: isActive ? 'var(--primary)' : 'var(--text-muted)',\r\n                                    backgroundColor: isActive ? 'rgba(99, 102, 241, 0.1)' : 'transparent',\r\n                                    transition: 'all 0.2s',\r\n                                    justifyContent: sidebarOpen ? 'flex-start' : 'center'\r\n                                })}\r\n                            >\r\n                                <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}>{item.icon}</div>\r\n                                <span style={{\r\n                                    marginLeft: '12px',\r\n                                    fontWeight: '700',\r\n                                    opacity: sidebarOpen ? 1 : 0,\r\n                                    transform: sidebarOpen ? 'translateX(0)' : 'translateX(10px)',\r\n                                    transition: 'all 0.3s',\r\n                                    display: 'block'\r\n                                }}>\r\n                                    {item.name}\r\n                                </span>\r\n                            </NavLink>\r\n                        ))}\r\n                    </nav>\r\n\r\n                    <div style={{ padding: '20px', borderTop: '1px solid var(--border)' }}>\r\n                        <button\r\n                            onClick={handleLogout}\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                padding: '12px',\r\n                                width: '100%',\r\n                                borderRadius: '12px',\r\n                                color: '#ef4444',\r\n                                backgroundColor: 'transparent',\r\n                                justifyContent: sidebarOpen ? 'flex-start' : 'center',\r\n                                whiteSpace: 'nowrap'\r\n                            }}\r\n                        >\r\n                            <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}><LogOut size={20} /></div>\r\n                            <span style={{\r\n                                marginLeft: '12px',\r\n                                fontWeight: '700',\r\n                                opacity: sidebarOpen ? 1 : 0,\r\n                                transition: 'opacity 0.2s'\r\n                            }}>Logout</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Main Content */}\r\n            <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n                {/* Header */}\r\n                <header style={{\r\n                    height: '60px',\r\n                    backgroundColor: 'var(--bg-card)',\r\n                    backdropFilter: 'blur(10px)',\r\n                    WebkitBackdropFilter: 'blur(10px)',\r\n                    borderBottom: '1px solid var(--border)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    padding: isMobile ? '0 16px' : '0 30px',\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    zIndex: 90,\r\n                    overflow: 'hidden'\r\n                }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>\r\n                        {/* Menu option removed as requested */}\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <h1 style={{\r\n                                fontSize: isMobile ? '18px' : '22px',\r\n                                fontWeight: '800',\r\n                                color: 'var(--primary)',\r\n                                margin: 0,\r\n                                letterSpacing: '-0.8px',\r\n                                lineHeight: 1\r\n                            }}>\r\n                                {navItems.find(item => item.path === window.location.pathname)?.name || 'Dashboard'}\r\n                            </h1>\r\n                            <span style={{ fontSize: '10px', opacity: 0.5, fontWeight: '800', color: '#10b981' }}>v3.2-UNIVERSAL</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n                        {/* Dark Mode Toggle */}\r\n                        <button\r\n                            onClick={() => setIsDarkMode(!isDarkMode)}\r\n                            style={{ background: 'none', color: 'var(--text-muted)', padding: 0 }}\r\n                        >\r\n                            {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}\r\n                        </button>\r\n\r\n                        {/* Logout for Mobile */}\r\n                        {isMobile && (\r\n                            <button\r\n                                onClick={handleLogout}\r\n                                style={{ background: 'none', color: '#ef4444', padding: 0 }}\r\n                            >\r\n                                <LogOut size={20} />\r\n                            </button>\r\n                        )}\r\n\r\n                        {/* Notifications (Hidden on mobile) */}\r\n                        {!isMobile && (\r\n                            <div style={{ position: 'relative' }}>\r\n                                <button\r\n                                    onClick={() => setShowNotifications(!showNotifications)}\r\n                                    style={{ background: 'none', color: 'var(--text-muted)', padding: 0 }}\r\n                                >\r\n                                    <Bell size={20} />\r\n                                    {unreadCount > 0 && (\r\n                                        <span style={{\r\n                                            position: 'absolute',\r\n                                            top: '-5px',\r\n                                            right: '-5px',\r\n                                            backgroundColor: '#ef4444',\r\n                                            color: 'white',\r\n                                            fontSize: '10px',\r\n                                            fontWeight: 'bold',\r\n                                            padding: '2px 5px',\r\n                                            borderRadius: '10px',\r\n                                            border: '2px solid var(--bg-card)'\r\n                                        }}>{unreadCount}</span>\r\n                                    )}\r\n                                </button>\r\n\r\n                                {showNotifications && (\r\n                                    <div className=\"card\" style={{\r\n                                        position: 'absolute',\r\n                                        top: '40px',\r\n                                        right: 0,\r\n                                        width: '320px',\r\n                                        maxHeight: '450px',\r\n                                        overflowY: 'auto',\r\n                                        zIndex: 1000,\r\n                                        padding: '20px',\r\n                                        boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'column'\r\n                                    }}>\r\n                                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n                                            <h4 style={{ margin: 0, fontSize: '16px', fontWeight: '800' }}>Notifications</h4>\r\n                                            {unreadCount > 0 && (\r\n                                                <button\r\n                                                    onClick={async () => {\r\n                                                        try {\r\n                                                            await api.put('/notifications/read-all');\r\n                                                            fetchNotifications();\r\n                                                        } catch (e) {\r\n                                                            toast.error('Failed to mark all as read');\r\n                                                        }\r\n                                                    }}\r\n                                                    style={{ background: 'none', color: 'var(--primary)', fontSize: '12px', fontWeight: '700' }}\r\n                                                >\r\n                                                    Mark all as read\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                        {notifications.length === 0 ? (\r\n                                            <div style={{ textAlign: 'center', padding: '20px', color: 'var(--text-muted)' }}>\r\n                                                <Bell size={24} style={{ opacity: 0.2, marginBottom: '8px' }} />\r\n                                                <p style={{ fontSize: '13px', margin: 0 }}>No notifications yet.</p>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                                                {notifications.map(n => (\r\n                                                    <div key={n.id} style={{\r\n                                                        padding: '12px',\r\n                                                        borderRadius: '12px',\r\n                                                        backgroundColor: n.is_read ? 'transparent' : 'rgba(59, 130, 246, 0.05)',\r\n                                                        border: '1px solid',\r\n                                                        borderColor: n.is_read ? 'var(--border)' : 'rgba(59, 130, 246, 0.2)',\r\n                                                        fontSize: '13px',\r\n                                                        display: 'flex',\r\n                                                        justifyContent: 'space-between',\r\n                                                        alignItems: 'flex-start',\r\n                                                        transition: 'all 0.2s'\r\n                                                    }}>\r\n                                                        <span style={{ flex: 1, marginRight: '10px', lineHeight: '1.4' }}>{n.message}</span>\r\n                                                        {!n.is_read && (\r\n                                                            <button\r\n                                                                onClick={(e) => {\r\n                                                                    e.stopPropagation();\r\n                                                                    markAsRead(n.id);\r\n                                                                }}\r\n                                                                style={{ background: 'none', color: '#10b981', padding: '4px' }}\r\n                                                            >\r\n                                                                <Check size={16} />\r\n                                                            </button>\r\n                                                        )}\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '12px',\r\n                            paddingLeft: isMobile ? '12px' : '20px',\r\n                            borderLeft: '1px solid var(--border)',\r\n                            height: '100%'\r\n                        }}>\r\n                            {!isMobile && (\r\n                                <div style={{ textAlign: 'right', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n                                    <div style={{ fontWeight: '700', fontSize: '14px', lineHeight: '1.2' }}>{user?.name || 'Guest'}</div>\r\n                                    <div style={{ fontSize: '11px', color: 'var(--text-muted)', fontWeight: '600' }}>Timetable App</div>\r\n                                </div>\r\n                            )}\r\n                            <div style={{\r\n                                width: isMobile ? '36px' : '40px',\r\n                                height: isMobile ? '36px' : '40px',\r\n                                borderRadius: '10px',\r\n                                backgroundColor: 'var(--primary)',\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                color: 'white',\r\n                                boxShadow: '0 4px 10px rgba(99, 102, 241, 0.2)',\r\n                                flexShrink: 0\r\n                            }}>\r\n                                <User size={isMobile ? 18 : 20} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Page Content */}\r\n                <main style={{\r\n                    padding: isMobile ? '16px' : '30px',\r\n                    flex: 1,\r\n                    overflowY: 'auto',\r\n                    overflowX: 'hidden',\r\n                    width: '100%',\r\n                    maxWidth: '100vw',\r\n                    boxSizing: 'border-box',\r\n                    paddingBottom: isMobile ? '100px' : '40px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column'\r\n                }}>\r\n                    {children}\r\n                </main>\r\n\r\n                {/* Bottom Navigation (Mobile Only) */}\r\n                {isMobile && (\r\n                    <nav style={{\r\n                        position: 'fixed',\r\n                        bottom: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        height: '70px',\r\n                        paddingBottom: 'env(safe-area-inset-bottom)',\r\n                        backgroundColor: 'var(--bg-card)',\r\n                        backdropFilter: 'blur(20px)',\r\n                        WebkitBackdropFilter: 'blur(20px)',\r\n                        borderTop: '1px solid var(--border)',\r\n                        display: 'flex',\r\n                        justifyContent: 'space-around',\r\n                        alignItems: 'center',\r\n                        zIndex: 1000,\r\n                        boxShadow: '0 -4px 20px rgba(0,0,0,0.05)'\r\n                    }}>\r\n                        {navItems.map((item) => (\r\n                            <NavLink\r\n                                key={item.path}\r\n                                to={item.path}\r\n                                style={({ isActive }) => ({\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'center',\r\n                                    gap: '6px',\r\n                                    textDecoration: 'none',\r\n                                    color: isActive ? 'var(--primary)' : 'var(--text-muted)',\r\n                                    transition: 'all 0.2s',\r\n                                    position: 'relative',\r\n                                    padding: '8px 12px',\r\n                                })}\r\n                            >\r\n                                <div style={{\r\n                                    transition: 'transform 0.2s',\r\n                                    transform: 'scale(1.1)'\r\n                                }}>\r\n                                    {item.icon}\r\n                                </div>\r\n                                <span style={{\r\n                                    fontSize: '11px',\r\n                                    fontWeight: '700',\r\n                                    letterSpacing: '0.02em'\r\n                                }}>{item.name}</span>\r\n                                <div style={{\r\n                                    position: 'absolute',\r\n                                    top: '-12px',\r\n                                    width: '20px',\r\n                                    height: '4px',\r\n                                    borderRadius: '0 0 4px 4px',\r\n                                    backgroundColor: 'var(--primary)',\r\n                                    opacity: 0,\r\n                                    transition: 'opacity 0.2s'\r\n                                }} className=\"nav-indicator\" />\r\n                            </NavLink>\r\n                        ))}\r\n                    </nav>\r\n                )}\r\n            </div >\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CACvD,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OACIC,eAAe,CACfC,QAAQ,CACRC,MAAM,CACNC,IAAI,CACJC,IAAI,CACJC,CAAC,CACDC,KAAK,CACLC,IAAI,CACJC,IAAI,CACJC,GAAG,CACHC,KAAK,CACLC,QAAQ,CACRC,QAAQ,GAAI,CAAAC,YAAY,KACrB,cAAc,CACrB,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAkB,KAAAC,cAAA,IAAjB,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACxB,KAAM,CAAEG,IAAI,CAAEC,MAAO,CAAC,CAAG1B,OAAO,CAAC,CAAC,CAClC,KAAM,CAAA2B,QAAQ,CAAG5B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC6B,WAAW,CAAEC,cAAc,CAAC,CAAGjC,QAAQ,CAAC,IAAI,CAAC,CAAE;AACtD,KAAM,CAACkC,UAAU,CAAEC,aAAa,CAAC,CAAGnC,QAAQ,CAACoC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAK,MAAM,CAAC,CACtF,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGvC,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACwC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGzC,QAAQ,CAAC,KAAK,CAAC,CAEjEC,SAAS,CAAC,IAAM,CACZyC,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,YAAY,CAAEV,UAAU,CAAG,MAAM,CAAG,OAAO,CAAC,CAClFE,YAAY,CAACS,OAAO,CAAC,OAAO,CAAEX,UAAU,CAAG,MAAM,CAAG,OAAO,CAAC,CAChE,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAY,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAA5B,GAAG,CAAC6B,GAAG,CAAC,gBAAgB,CAAC,CAC3C,KAAM,CAAAC,gBAAgB,CAAGF,GAAG,CAACG,IAAI,CAEjC;AACAD,gBAAgB,CAACE,OAAO,CAACC,CAAC,EAAI,CAC1B,KAAM,CAAAC,KAAK,CAAG,CAACf,aAAa,CAACgB,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,EAAE,GAAKJ,CAAC,CAACI,EAAE,CAAC,CACzD,GAAIH,KAAK,EAAI,CAACD,CAAC,CAACK,OAAO,CAAE,CACrBrC,KAAK,CAACgC,CAAC,CAACM,OAAO,CAAE,CAAEC,IAAI,CAAE,IAAI,CAAEC,QAAQ,CAAE,IAAK,CAAC,CAAC,CACpD,CACJ,CAAC,CAAC,CAEFrB,gBAAgB,CAACU,gBAAgB,CAAC,CACtC,CAAE,MAAOY,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAC,CAClD,CACJ,CAAC,CAED5D,SAAS,CAAC,IAAM,CACZ6C,kBAAkB,CAAC,CAAC,CACpB,KAAM,CAAAiB,QAAQ,CAAGC,WAAW,CAAClB,kBAAkB,CAAE,KAAK,CAAC,CAAE;AACzD,MAAO,IAAMmB,aAAa,CAACF,QAAQ,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,UAAU,CAAG,KAAO,CAAAV,EAAE,EAAK,CAC7B,GAAI,CACA,KAAM,CAAArC,GAAG,CAACgD,GAAG,mBAAAC,MAAA,CAAmBZ,EAAE,SAAO,CAAC,CAC1CV,kBAAkB,CAAC,CAAC,CACxB,CAAE,MAAOe,KAAK,CAAE,CACZzC,KAAK,CAACyC,KAAK,CAAC,qCAAqC,CAAC,CACtD,CACJ,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAGA,CAAA,GAAM,CACvBvC,MAAM,CAAC,CAAC,CACRC,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAED,KAAM,CAAAuC,WAAW,CAAGhC,aAAa,CAACiC,MAAM,CAACnB,CAAC,EAAI,CAACA,CAAC,CAACK,OAAO,CAAC,CAACe,MAAM,CAEhE,KAAM,CAAAC,QAAQ,CAAG,CACb,CAAEC,IAAI,CAAE,WAAW,CAAEC,IAAI,CAAE,GAAG,CAAEhB,IAAI,cAAErC,IAAA,CAACjB,eAAe,EAACuE,IAAI,CAAE,EAAG,CAAE,CAAE,CAAC,CACrE,CAAEF,IAAI,CAAE,cAAc,CAAEC,IAAI,CAAE,YAAY,CAAEhB,IAAI,cAAErC,IAAA,CAAChB,QAAQ,EAACsE,IAAI,CAAE,EAAG,CAAE,CAAE,CAAC,CAC1E,CAAEF,IAAI,CAAE,SAAS,CAAEC,IAAI,CAAE,UAAU,CAAEhB,IAAI,cAAErC,IAAA,CAACN,QAAQ,EAAC4D,IAAI,CAAE,EAAG,CAAE,CAAE,CAAC,CACnE,CAAEF,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,WAAW,CAAEhB,IAAI,cAAErC,IAAA,CAACJ,YAAY,EAAC0D,IAAI,CAAE,EAAG,CAAE,CAAE,CAAC,CAC5E,CAED,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAG9E,QAAQ,CAAC,CACzC+E,KAAK,CAAEC,MAAM,CAACC,UAAU,CACxBC,MAAM,CAAEF,MAAM,CAACG,WACnB,CAAC,CAAC,CACF,KAAM,CAAAC,QAAQ,CAAGP,UAAU,CAACE,KAAK,EAAI,GAAG,EAAKF,UAAU,CAACK,MAAM,EAAI,GAAG,EAAIL,UAAU,CAACE,KAAK,EAAI,IAAK,CAClG,KAAM,CAAAM,WAAW,CAAGR,UAAU,CAACE,KAAK,CAAGF,UAAU,CAACK,MAAM,CAExDjF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAqF,YAAY,CAAGA,CAAA,GAAMR,aAAa,CAAC,CACrCC,KAAK,CAAEC,MAAM,CAACC,UAAU,CACxBC,MAAM,CAAEF,MAAM,CAACG,WACnB,CAAC,CAAC,CACFH,MAAM,CAACO,gBAAgB,CAAC,QAAQ,CAAED,YAAY,CAAC,CAC/C,MAAO,IAAMN,MAAM,CAACQ,mBAAmB,CAAC,QAAQ,CAAEF,YAAY,CAAC,CACnE,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI9D,KAAA,QAAKiE,KAAK,CAAE,CACRC,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,OAAO,CAClBA,SAAS,CAAE,QAAQ,CACnBC,eAAe,CAAE,gBAAgB,CACjCC,QAAQ,CAAE,QAAS;AACvB,CAAE,CAAAjE,QAAA,EAIG,CAACwD,QAAQ,eACN5D,KAAA,QAAKiE,KAAK,CAAE,CACRV,KAAK,CAAE/C,WAAW,CAAG,OAAO,CAAG,MAAM,CACrC4D,eAAe,CAAE,gBAAgB,CACjCE,WAAW,CAAE,yBAAyB,CACtCC,UAAU,CAAE,uCAAuC,CACnDL,OAAO,CAAE,MAAM,CACfM,aAAa,CAAE,QAAQ,CACvBC,QAAQ,CAAE,QAAQ,CAClBC,GAAG,CAAE,CAAC,CACNhB,MAAM,CAAE,OAAO,CACfiB,MAAM,CAAE,GAAG,CACXN,QAAQ,CAAE,QAAQ,CAClBO,UAAU,CAAE,QAChB,CAAE,CAAAxE,QAAA,eACEN,IAAA,QAAKmE,KAAK,CAAE,CACRY,OAAO,CAAE,MAAM,CACfX,OAAO,CAAE,MAAM,CACfY,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBZ,SAAS,CAAE,MAAM,CACjBa,YAAY,CAAE,yBAClB,CAAE,CAAA5E,QAAA,cACEJ,KAAA,QAAKiE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEY,UAAU,CAAE,QAAQ,CAAEG,GAAG,CAAE,MAAM,CAAEV,UAAU,CAAE,UAAW,CAAE,CAAAnE,QAAA,eACvFN,IAAA,QAAKmE,KAAK,CAAE,CACRV,KAAK,CAAE,MAAM,CACbG,MAAM,CAAE,MAAM,CACdwB,UAAU,CAAE,sEAAsE,CAClFC,YAAY,CAAE,KAAK,CACnBjB,OAAO,CAAE,MAAM,CACfY,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBK,SAAS,CAAE,oCACf,CAAE,CAAAhF,QAAA,cACEN,IAAA,CAACN,QAAQ,EAAC6F,KAAK,CAAC,OAAO,CAACjC,IAAI,CAAE,EAAG,CAAE,CAAC,CACnC,CAAC,CACL5C,WAAW,eAAIV,IAAA,OAAImE,KAAK,CAAE,CAAEqB,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEF,KAAK,CAAE,kBAAkB,CAAEG,MAAM,CAAE,CAAE,CAAE,CAAApF,QAAA,CAAC,WAAS,CAAI,CAAC,EACvH,CAAC,CACL,CAAC,cAENN,IAAA,QAAKmE,KAAK,CAAE,CAAEY,OAAO,CAAE,WAAW,CAAEY,IAAI,CAAE,CAAC,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAtF,QAAA,CAC5D6C,QAAQ,CAAC0C,GAAG,CAAEC,IAAI,eACf5F,KAAA,CAACtB,OAAO,EAEJmH,EAAE,CAAED,IAAI,CAACzC,IAAK,CACdc,KAAK,CAAE6B,KAAA,MAAC,CAAEC,QAAS,CAAC,CAAAD,KAAA,OAAM,CACtB5B,OAAO,CAAE,MAAM,CACfY,UAAU,CAAE,QAAQ,CACpBD,OAAO,CAAE,WAAW,CACpBmB,YAAY,CAAE,KAAK,CACnBb,YAAY,CAAE,MAAM,CACpBc,cAAc,CAAE,MAAM,CACtBZ,KAAK,CAAEU,QAAQ,CAAG,gBAAgB,CAAG,mBAAmB,CACxD3B,eAAe,CAAE2B,QAAQ,CAAG,yBAAyB,CAAG,aAAa,CACrExB,UAAU,CAAE,UAAU,CACtBQ,cAAc,CAAEvE,WAAW,CAAG,YAAY,CAAG,QACjD,CAAC,EAAE,CAAAJ,QAAA,eAEHN,IAAA,QAAKmE,KAAK,CAAE,CAAEiC,QAAQ,CAAE,MAAM,CAAEhC,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,QAAS,CAAE,CAAA3E,QAAA,CAAEwF,IAAI,CAACzD,IAAI,CAAM,CAAC,cAC9FrC,IAAA,SAAMmE,KAAK,CAAE,CACTkC,UAAU,CAAE,MAAM,CAClBZ,UAAU,CAAE,KAAK,CACjBa,OAAO,CAAE5F,WAAW,CAAG,CAAC,CAAG,CAAC,CAC5B6F,SAAS,CAAE7F,WAAW,CAAG,eAAe,CAAG,kBAAkB,CAC7D+D,UAAU,CAAE,UAAU,CACtBL,OAAO,CAAE,OACb,CAAE,CAAA9D,QAAA,CACGwF,IAAI,CAAC1C,IAAI,CACR,CAAC,GAzBF0C,IAAI,CAACzC,IA0BL,CACZ,CAAC,CACD,CAAC,cAENrD,IAAA,QAAKmE,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEyB,SAAS,CAAE,yBAA0B,CAAE,CAAAlG,QAAA,cAClEJ,KAAA,WACIuG,OAAO,CAAE1D,YAAa,CACtBoB,KAAK,CAAE,CACHC,OAAO,CAAE,MAAM,CACfY,UAAU,CAAE,QAAQ,CACpBD,OAAO,CAAE,MAAM,CACftB,KAAK,CAAE,MAAM,CACb4B,YAAY,CAAE,MAAM,CACpBE,KAAK,CAAE,SAAS,CAChBjB,eAAe,CAAE,aAAa,CAC9BW,cAAc,CAAEvE,WAAW,CAAG,YAAY,CAAG,QAAQ,CACrDoE,UAAU,CAAE,QAChB,CAAE,CAAAxE,QAAA,eAEFN,IAAA,QAAKmE,KAAK,CAAE,CAAEiC,QAAQ,CAAE,MAAM,CAAEhC,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,QAAS,CAAE,CAAA3E,QAAA,cAACN,IAAA,CAACf,MAAM,EAACqE,IAAI,CAAE,EAAG,CAAE,CAAC,CAAK,CAAC,cACvGtD,IAAA,SAAMmE,KAAK,CAAE,CACTkC,UAAU,CAAE,MAAM,CAClBZ,UAAU,CAAE,KAAK,CACjBa,OAAO,CAAE5F,WAAW,CAAG,CAAC,CAAG,CAAC,CAC5B+D,UAAU,CAAE,cAChB,CAAE,CAAAnE,QAAA,CAAC,QAAM,CAAM,CAAC,EACZ,CAAC,CACR,CAAC,EACL,CACR,cAGDJ,KAAA,QAAKiE,KAAK,CAAE,CAAEwB,IAAI,CAAE,CAAC,CAAEvB,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAS,CAAE,CAAApE,QAAA,eAE9DJ,KAAA,WAAQiE,KAAK,CAAE,CACXP,MAAM,CAAE,MAAM,CACdU,eAAe,CAAE,gBAAgB,CACjCoC,cAAc,CAAE,YAAY,CAC5BC,oBAAoB,CAAE,YAAY,CAClCzB,YAAY,CAAE,yBAAyB,CACvCd,OAAO,CAAE,MAAM,CACfY,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,eAAe,CAC/BF,OAAO,CAAEjB,QAAQ,CAAG,QAAQ,CAAG,QAAQ,CACvCa,QAAQ,CAAE,QAAQ,CAClBC,GAAG,CAAE,CAAC,CACNC,MAAM,CAAE,EAAE,CACVN,QAAQ,CAAE,QACd,CAAE,CAAAjE,QAAA,eACEN,IAAA,QAAKmE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEY,UAAU,CAAE,QAAQ,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAA7E,QAAA,cAE/DJ,KAAA,QAAKiE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAS,CAAE,CAAApE,QAAA,eACrDN,IAAA,OAAImE,KAAK,CAAE,CACPqB,QAAQ,CAAE1B,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpC2B,UAAU,CAAE,KAAK,CACjBF,KAAK,CAAE,gBAAgB,CACvBG,MAAM,CAAE,CAAC,CACTkB,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,CAChB,CAAE,CAAAvG,QAAA,CACG,EAAAD,cAAA,CAAA8C,QAAQ,CAACnB,IAAI,CAAC8D,IAAI,EAAIA,IAAI,CAACzC,IAAI,GAAKK,MAAM,CAACoD,QAAQ,CAACC,QAAQ,CAAC,UAAA1G,cAAA,iBAA7DA,cAAA,CAA+D+C,IAAI,GAAI,WAAW,CACnF,CAAC,cACLpD,IAAA,SAAMmE,KAAK,CAAE,CAAEqB,QAAQ,CAAE,MAAM,CAAEc,OAAO,CAAE,GAAG,CAAEb,UAAU,CAAE,KAAK,CAAEF,KAAK,CAAE,SAAU,CAAE,CAAAjF,QAAA,CAAC,gBAAc,CAAM,CAAC,EAC1G,CAAC,CACL,CAAC,cAENJ,KAAA,QAAKiE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEY,UAAU,CAAE,QAAQ,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAA7E,QAAA,eAE/DN,IAAA,WACIyG,OAAO,CAAEA,CAAA,GAAM5F,aAAa,CAAC,CAACD,UAAU,CAAE,CAC1CuD,KAAK,CAAE,CAAEiB,UAAU,CAAE,MAAM,CAAEG,KAAK,CAAE,mBAAmB,CAAER,OAAO,CAAE,CAAE,CAAE,CAAAzE,QAAA,CAErEM,UAAU,cAAGZ,IAAA,CAACR,GAAG,EAAC8D,IAAI,CAAE,EAAG,CAAE,CAAC,cAAGtD,IAAA,CAACT,IAAI,EAAC+D,IAAI,CAAE,EAAG,CAAE,CAAC,CAChD,CAAC,CAGRQ,QAAQ,eACL9D,IAAA,WACIyG,OAAO,CAAE1D,YAAa,CACtBoB,KAAK,CAAE,CAAEiB,UAAU,CAAE,MAAM,CAAEG,KAAK,CAAE,SAAS,CAAER,OAAO,CAAE,CAAE,CAAE,CAAAzE,QAAA,cAE5DN,IAAA,CAACf,MAAM,EAACqE,IAAI,CAAE,EAAG,CAAE,CAAC,CAChB,CACX,CAGA,CAACQ,QAAQ,eACN5D,KAAA,QAAKiE,KAAK,CAAE,CAAEQ,QAAQ,CAAE,UAAW,CAAE,CAAArE,QAAA,eACjCJ,KAAA,WACIuG,OAAO,CAAEA,CAAA,GAAMtF,oBAAoB,CAAC,CAACD,iBAAiB,CAAE,CACxDiD,KAAK,CAAE,CAAEiB,UAAU,CAAE,MAAM,CAAEG,KAAK,CAAE,mBAAmB,CAAER,OAAO,CAAE,CAAE,CAAE,CAAAzE,QAAA,eAEtEN,IAAA,CAACd,IAAI,EAACoE,IAAI,CAAE,EAAG,CAAE,CAAC,CACjBN,WAAW,CAAG,CAAC,eACZhD,IAAA,SAAMmE,KAAK,CAAE,CACTQ,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,MAAM,CACXoC,KAAK,CAAE,MAAM,CACb1C,eAAe,CAAE,SAAS,CAC1BiB,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,MAAM,CAClBV,OAAO,CAAE,SAAS,CAClBM,YAAY,CAAE,MAAM,CACpB4B,MAAM,CAAE,0BACZ,CAAE,CAAA3G,QAAA,CAAE0C,WAAW,CAAO,CACzB,EACG,CAAC,CAER9B,iBAAiB,eACdhB,KAAA,QAAKgH,SAAS,CAAC,MAAM,CAAC/C,KAAK,CAAE,CACzBQ,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,MAAM,CACXoC,KAAK,CAAE,CAAC,CACRvD,KAAK,CAAE,OAAO,CACd0D,SAAS,CAAE,OAAO,CAClBvB,SAAS,CAAE,MAAM,CACjBf,MAAM,CAAE,IAAI,CACZE,OAAO,CAAE,MAAM,CACfO,SAAS,CAAE,2EAA2E,CACtFlB,OAAO,CAAE,MAAM,CACfM,aAAa,CAAE,QACnB,CAAE,CAAApE,QAAA,eACEJ,KAAA,QAAKiE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEa,cAAc,CAAE,eAAe,CAAED,UAAU,CAAE,QAAQ,CAAEkB,YAAY,CAAE,MAAO,CAAE,CAAA5F,QAAA,eACzGN,IAAA,OAAImE,KAAK,CAAE,CAAEuB,MAAM,CAAE,CAAC,CAAEF,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAAnF,QAAA,CAAC,eAAa,CAAI,CAAC,CAChF0C,WAAW,CAAG,CAAC,eACZhD,IAAA,WACIyG,OAAO,CAAE,KAAAA,CAAA,GAAY,CACjB,GAAI,CACA,KAAM,CAAA5G,GAAG,CAACgD,GAAG,CAAC,yBAAyB,CAAC,CACxCrB,kBAAkB,CAAC,CAAC,CACxB,CAAE,MAAO4F,CAAC,CAAE,CACRtH,KAAK,CAACyC,KAAK,CAAC,4BAA4B,CAAC,CAC7C,CACJ,CAAE,CACF4B,KAAK,CAAE,CAAEiB,UAAU,CAAE,MAAM,CAAEG,KAAK,CAAE,gBAAgB,CAAEC,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAM,CAAE,CAAAnF,QAAA,CAC/F,kBAED,CAAQ,CACX,EACA,CAAC,CACLU,aAAa,CAACkC,MAAM,GAAK,CAAC,cACvBhD,KAAA,QAAKiE,KAAK,CAAE,CAAEkD,SAAS,CAAE,QAAQ,CAAEtC,OAAO,CAAE,MAAM,CAAEQ,KAAK,CAAE,mBAAoB,CAAE,CAAAjF,QAAA,eAC7EN,IAAA,CAACd,IAAI,EAACoE,IAAI,CAAE,EAAG,CAACa,KAAK,CAAE,CAAEmC,OAAO,CAAE,GAAG,CAAEJ,YAAY,CAAE,KAAM,CAAE,CAAE,CAAC,cAChElG,IAAA,MAAGmE,KAAK,CAAE,CAAEqB,QAAQ,CAAE,MAAM,CAAEE,MAAM,CAAE,CAAE,CAAE,CAAApF,QAAA,CAAC,uBAAqB,CAAG,CAAC,EACnE,CAAC,cAENN,IAAA,QAAKmE,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAQ,CAAES,GAAG,CAAE,KAAM,CAAE,CAAA7E,QAAA,CAChEU,aAAa,CAAC6E,GAAG,CAAC/D,CAAC,eAChB5B,KAAA,QAAgBiE,KAAK,CAAE,CACnBY,OAAO,CAAE,MAAM,CACfM,YAAY,CAAE,MAAM,CACpBf,eAAe,CAAExC,CAAC,CAACK,OAAO,CAAG,aAAa,CAAG,0BAA0B,CACvE8E,MAAM,CAAE,WAAW,CACnBK,WAAW,CAAExF,CAAC,CAACK,OAAO,CAAG,eAAe,CAAG,yBAAyB,CACpEqD,QAAQ,CAAE,MAAM,CAChBpB,OAAO,CAAE,MAAM,CACfa,cAAc,CAAE,eAAe,CAC/BD,UAAU,CAAE,YAAY,CACxBP,UAAU,CAAE,UAChB,CAAE,CAAAnE,QAAA,eACEN,IAAA,SAAMmE,KAAK,CAAE,CAAEwB,IAAI,CAAE,CAAC,CAAE4B,WAAW,CAAE,MAAM,CAAEV,UAAU,CAAE,KAAM,CAAE,CAAAvG,QAAA,CAAEwB,CAAC,CAACM,OAAO,CAAO,CAAC,CACnF,CAACN,CAAC,CAACK,OAAO,eACPnC,IAAA,WACIyG,OAAO,CAAGW,CAAC,EAAK,CACZA,CAAC,CAACI,eAAe,CAAC,CAAC,CACnB5E,UAAU,CAACd,CAAC,CAACI,EAAE,CAAC,CACpB,CAAE,CACFiC,KAAK,CAAE,CAAEiB,UAAU,CAAE,MAAM,CAAEG,KAAK,CAAE,SAAS,CAAER,OAAO,CAAE,KAAM,CAAE,CAAAzE,QAAA,cAEhEN,IAAA,CAACP,KAAK,EAAC6D,IAAI,CAAE,EAAG,CAAE,CAAC,CACf,CACX,GAvBKxB,CAAC,CAACI,EAwBP,CACR,CAAC,CACD,CACR,EACA,CACR,EACA,CACR,cAEDhC,KAAA,QAAKiE,KAAK,CAAE,CACRC,OAAO,CAAE,MAAM,CACfY,UAAU,CAAE,QAAQ,CACpBG,GAAG,CAAE,MAAM,CACXsC,WAAW,CAAE3D,QAAQ,CAAG,MAAM,CAAG,MAAM,CACvC4D,UAAU,CAAE,yBAAyB,CACrC9D,MAAM,CAAE,MACZ,CAAE,CAAAtD,QAAA,EACG,CAACwD,QAAQ,eACN5D,KAAA,QAAKiE,KAAK,CAAE,CAAEkD,SAAS,CAAE,OAAO,CAAEjD,OAAO,CAAE,MAAM,CAAEM,aAAa,CAAE,QAAQ,CAAEO,cAAc,CAAE,QAAS,CAAE,CAAA3E,QAAA,eACnGN,IAAA,QAAKmE,KAAK,CAAE,CAAEsB,UAAU,CAAE,KAAK,CAAED,QAAQ,CAAE,MAAM,CAAEqB,UAAU,CAAE,KAAM,CAAE,CAAAvG,QAAA,CAAE,CAAAC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6C,IAAI,GAAI,OAAO,CAAM,CAAC,cACrGpD,IAAA,QAAKmE,KAAK,CAAE,CAAEqB,QAAQ,CAAE,MAAM,CAAED,KAAK,CAAE,mBAAmB,CAAEE,UAAU,CAAE,KAAM,CAAE,CAAAnF,QAAA,CAAC,eAAa,CAAK,CAAC,EACnG,CACR,cACDN,IAAA,QAAKmE,KAAK,CAAE,CACRV,KAAK,CAAEK,QAAQ,CAAG,MAAM,CAAG,MAAM,CACjCF,MAAM,CAAEE,QAAQ,CAAG,MAAM,CAAG,MAAM,CAClCuB,YAAY,CAAE,MAAM,CACpBf,eAAe,CAAE,gBAAgB,CACjCF,OAAO,CAAE,MAAM,CACfa,cAAc,CAAE,QAAQ,CACxBD,UAAU,CAAE,QAAQ,CACpBO,KAAK,CAAE,OAAO,CACdD,SAAS,CAAE,oCAAoC,CAC/CqC,UAAU,CAAE,CAChB,CAAE,CAAArH,QAAA,cACEN,IAAA,CAACV,IAAI,EAACgE,IAAI,CAAEQ,QAAQ,CAAG,EAAE,CAAG,EAAG,CAAE,CAAC,CACjC,CAAC,EACL,CAAC,EACL,CAAC,EACF,CAAC,cAGT9D,IAAA,SAAMmE,KAAK,CAAE,CACTY,OAAO,CAAEjB,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnC6B,IAAI,CAAE,CAAC,CACPC,SAAS,CAAE,MAAM,CACjBgC,SAAS,CAAE,QAAQ,CACnBnE,KAAK,CAAE,MAAM,CACboE,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,YAAY,CACvBC,aAAa,CAAEjE,QAAQ,CAAG,OAAO,CAAG,MAAM,CAC1CM,OAAO,CAAE,MAAM,CACfM,aAAa,CAAE,QACnB,CAAE,CAAApE,QAAA,CACGA,QAAQ,CACP,CAAC,CAGNwD,QAAQ,eACL9D,IAAA,QAAKmE,KAAK,CAAE,CACRQ,QAAQ,CAAE,OAAO,CACjBqD,MAAM,CAAE,CAAC,CACTC,IAAI,CAAE,CAAC,CACPjB,KAAK,CAAE,CAAC,CACRpD,MAAM,CAAE,MAAM,CACdmE,aAAa,CAAE,6BAA6B,CAC5CzD,eAAe,CAAE,gBAAgB,CACjCoC,cAAc,CAAE,YAAY,CAC5BC,oBAAoB,CAAE,YAAY,CAClCH,SAAS,CAAE,yBAAyB,CACpCpC,OAAO,CAAE,MAAM,CACfa,cAAc,CAAE,cAAc,CAC9BD,UAAU,CAAE,QAAQ,CACpBH,MAAM,CAAE,IAAI,CACZS,SAAS,CAAE,8BACf,CAAE,CAAAhF,QAAA,CACG6C,QAAQ,CAAC0C,GAAG,CAAEC,IAAI,eACf5F,KAAA,CAACtB,OAAO,EAEJmH,EAAE,CAAED,IAAI,CAACzC,IAAK,CACdc,KAAK,CAAE+D,KAAA,MAAC,CAAEjC,QAAS,CAAC,CAAAiC,KAAA,OAAM,CACtB9D,OAAO,CAAE,MAAM,CACfM,aAAa,CAAE,QAAQ,CACvBM,UAAU,CAAE,QAAQ,CACpBG,GAAG,CAAE,KAAK,CACVgB,cAAc,CAAE,MAAM,CACtBZ,KAAK,CAAEU,QAAQ,CAAG,gBAAgB,CAAG,mBAAmB,CACxDxB,UAAU,CAAE,UAAU,CACtBE,QAAQ,CAAE,UAAU,CACpBI,OAAO,CAAE,UACb,CAAC,EAAE,CAAAzE,QAAA,eAEHN,IAAA,QAAKmE,KAAK,CAAE,CACRM,UAAU,CAAE,gBAAgB,CAC5B8B,SAAS,CAAE,YACf,CAAE,CAAAjG,QAAA,CACGwF,IAAI,CAACzD,IAAI,CACT,CAAC,cACNrC,IAAA,SAAMmE,KAAK,CAAE,CACTqB,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBmB,aAAa,CAAE,QACnB,CAAE,CAAAtG,QAAA,CAAEwF,IAAI,CAAC1C,IAAI,CAAO,CAAC,cACrBpD,IAAA,QAAKmE,KAAK,CAAE,CACRQ,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,OAAO,CACZnB,KAAK,CAAE,MAAM,CACbG,MAAM,CAAE,KAAK,CACbyB,YAAY,CAAE,aAAa,CAC3Bf,eAAe,CAAE,gBAAgB,CACjCgC,OAAO,CAAE,CAAC,CACV7B,UAAU,CAAE,cAChB,CAAE,CAACyC,SAAS,CAAC,eAAe,CAAE,CAAC,GAlC1BpB,IAAI,CAACzC,IAmCL,CACZ,CAAC,CACD,CACR,EACC,CAAC,EACL,CAAC,CAEf,CAAC,CAED,cAAe,CAAAlD,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}