{"ast":null,"code":"import React,{useState,useEffect}from'react';import{NavLink,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{LayoutDashboard,Calendar,LogOut,Bell,Menu,X,Clock,User,Moon,Sun,Check,Settings as SettingsIcon}from'lucide-react';import api from'../services/api';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{let{children}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const[sidebarOpen,setSidebarOpen]=useState(true);const[isDarkMode,setIsDarkMode]=useState(localStorage.getItem('theme')==='dark');const[notifications,setNotifications]=useState([]);const[showNotifications,setShowNotifications]=useState(false);useEffect(()=>{document.documentElement.setAttribute('data-theme',isDarkMode?'dark':'light');localStorage.setItem('theme',isDarkMode?'dark':'light');},[isDarkMode]);const fetchNotifications=async()=>{try{const res=await api.get('/notifications');const newNotifications=res.data;// Show toast for new unread notifications\nnewNotifications.forEach(n=>{const isNew=!notifications.find(old=>old.id===n.id);if(isNew&&!n.is_read){toast(n.message,{icon:'ðŸ””',duration:5000});}});setNotifications(newNotifications);}catch(error){console.error('Failed to fetch notifications');}};useEffect(()=>{fetchNotifications();const interval=setInterval(fetchNotifications,30000);// Poll every 30s\nreturn()=>clearInterval(interval);},[]);const markAsRead=async id=>{try{await api.put(\"/notifications/\".concat(id,\"/read\"));fetchNotifications();}catch(error){toast.error('Failed to mark notification as read');}};const handleLogout=()=>{logout();navigate('/login');};const unreadCount=notifications.filter(n=>!n.is_read).length;const navItems=[{name:'Dashboard',path:'/',icon:/*#__PURE__*/_jsx(LayoutDashboard,{size:20})},{name:'My Timetable',path:'/timetable',icon:/*#__PURE__*/_jsx(Calendar,{size:20})},{name:'Settings',path:'/settings',icon:/*#__PURE__*/_jsx(SettingsIcon,{size:20})}];return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'100vh',backgroundColor:'var(--bg-main)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:sidebarOpen?'260px':'80px',backgroundColor:'var(--bg-card)',borderRight:'1px solid var(--border)',transition:'width 0.3s ease',display:'flex',flexDirection:'column',position:'sticky',top:0,height:'100vh',zIndex:100},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px',display:'flex',alignItems:'center',justifyContent:sidebarOpen?'space-between':'center',borderBottom:'1px solid var(--border)'},children:[sidebarOpen&&/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'20px',fontWeight:'800',color:'var(--primary)'},children:\"T-App\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),style:{background:'none',color:'var(--text-muted)'},children:sidebarOpen?/*#__PURE__*/_jsx(X,{size:20}):/*#__PURE__*/_jsx(Menu,{size:20})})]}),/*#__PURE__*/_jsx(\"nav\",{style:{padding:'20px 12px',flex:1},children:navItems.map(item=>/*#__PURE__*/_jsxs(NavLink,{to:item.path,style:_ref2=>{let{isActive}=_ref2;return{display:'flex',alignItems:'center',padding:'12px 16px',marginBottom:'8px',borderRadius:'12px',textDecoration:'none',color:isActive?'var(--primary)':'var(--text-muted)',backgroundColor:isActive?'rgba(59, 130, 246, 0.1)':'transparent',transition:'all 0.2s',justifyContent:sidebarOpen?'flex-start':'center'};},children:[/*#__PURE__*/_jsx(\"div\",{style:{minWidth:'24px',display:'flex',justifyContent:'center'},children:item.icon}),sidebarOpen&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'600'},children:item.name})]},item.path))}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',borderTop:'1px solid var(--border)'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,style:{display:'flex',alignItems:'center',padding:'12px',width:'100%',borderRadius:'12px',color:'#ef4444',backgroundColor:'transparent',justifyContent:sidebarOpen?'flex-start':'center'},children:[/*#__PURE__*/_jsx(LogOut,{size:20}),sidebarOpen&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'12px',fontWeight:'600'},children:\"Logout\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{height:'70px',backgroundColor:'var(--bg-card)',borderBottom:'1px solid var(--border)',display:'flex',alignItems:'center',justifyContent:'space-between',padding:'0 30px',position:'sticky',top:0,zIndex:90},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(Clock,{size:20,color:\"var(--text-muted)\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'500',color:'var(--text-muted)'},children:new Date().toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsDarkMode(!isDarkMode),style:{background:'none',color:'var(--text-muted)'},children:isDarkMode?/*#__PURE__*/_jsx(Sun,{size:22}):/*#__PURE__*/_jsx(Moon,{size:22})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotifications(!showNotifications),style:{background:'none',color:'var(--text-muted)'},children:[/*#__PURE__*/_jsx(Bell,{size:22}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-5px',right:'-5px',backgroundColor:'#ef4444',color:'white',fontSize:'10px',fontWeight:'bold',padding:'2px 6px',borderRadius:'10px',border:'2px solid var(--bg-card)'},children:unreadCount})]}),showNotifications&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{position:'absolute',top:'40px',right:0,width:'300px',maxHeight:'400px',overflowY:'auto',zIndex:1000,padding:'15px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'15px',fontSize:'16px'},children:\"Notifications\"}),notifications.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:'var(--text-muted)'},children:\"No notifications yet.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:notifications.map(n=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',borderRadius:'8px',backgroundColor:n.is_read?'transparent':'rgba(59, 130, 246, 0.05)',border:n.is_read?'none':'1px solid var(--border)',fontSize:'13px',display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(\"span\",{style:{flex:1,marginRight:'10px'},children:n.message}),!n.is_read&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsRead(n.id),style:{background:'none',color:'#10b981'},children:/*#__PURE__*/_jsx(Check,{size:16})})]},n.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',paddingLeft:'20px',borderLeft:'1px solid var(--border)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'700',fontSize:'14px'},children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'var(--text-muted)'},children:\"Standard User\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'12px',backgroundColor:'var(--primary)',display:'flex',justifyContent:'center',alignItems:'center',color:'white'},children:/*#__PURE__*/_jsx(User,{size:20})})]})]})]}),/*#__PURE__*/_jsx(\"main\",{style:{padding:'30px',flex:1},children:children})]})]});};export default Layout;","map":{"version":3,"names":["React","useState","useEffect","NavLink","useNavigate","useAuth","LayoutDashboard","Calendar","LogOut","Bell","Menu","X","Clock","User","Moon","Sun","Check","Settings","SettingsIcon","api","toast","jsx","_jsx","jsxs","_jsxs","Layout","_ref","children","user","logout","navigate","sidebarOpen","setSidebarOpen","isDarkMode","setIsDarkMode","localStorage","getItem","notifications","setNotifications","showNotifications","setShowNotifications","document","documentElement","setAttribute","setItem","fetchNotifications","res","get","newNotifications","data","forEach","n","isNew","find","old","id","is_read","message","icon","duration","error","console","interval","setInterval","clearInterval","markAsRead","put","concat","handleLogout","unreadCount","filter","length","navItems","name","path","size","style","display","minHeight","backgroundColor","width","borderRight","transition","flexDirection","position","top","height","zIndex","padding","alignItems","justifyContent","borderBottom","fontSize","fontWeight","color","onClick","background","flex","map","item","to","_ref2","isActive","marginBottom","borderRadius","textDecoration","minWidth","marginLeft","borderTop","gap","Date","toLocaleDateString","weekday","month","day","right","border","className","maxHeight","overflowY","marginRight","paddingLeft","borderLeft","textAlign","username"],"sources":["D:/time table/frontend/src/components/Layout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport {\r\n    LayoutDashboard,\r\n    Calendar,\r\n    LogOut,\r\n    Bell,\r\n    Menu,\r\n    X,\r\n    Clock,\r\n    User,\r\n    Moon,\r\n    Sun,\r\n    Check,\r\n    Settings as SettingsIcon\r\n} from 'lucide-react';\r\nimport api from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Layout = ({ children }) => {\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [sidebarOpen, setSidebarOpen] = useState(true);\r\n    const [isDarkMode, setIsDarkMode] = useState(localStorage.getItem('theme') === 'dark');\r\n    const [notifications, setNotifications] = useState([]);\r\n    const [showNotifications, setShowNotifications] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.documentElement.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');\r\n        localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\r\n    }, [isDarkMode]);\r\n\r\n    const fetchNotifications = async () => {\r\n        try {\r\n            const res = await api.get('/notifications');\r\n            const newNotifications = res.data;\r\n\r\n            // Show toast for new unread notifications\r\n            newNotifications.forEach(n => {\r\n                const isNew = !notifications.find(old => old.id === n.id);\r\n                if (isNew && !n.is_read) {\r\n                    toast(n.message, { icon: 'ðŸ””', duration: 5000 });\r\n                }\r\n            });\r\n\r\n            setNotifications(newNotifications);\r\n        } catch (error) {\r\n            console.error('Failed to fetch notifications');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifications();\r\n        const interval = setInterval(fetchNotifications, 30000); // Poll every 30s\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const markAsRead = async (id) => {\r\n        try {\r\n            await api.put(`/notifications/${id}/read`);\r\n            fetchNotifications();\r\n        } catch (error) {\r\n            toast.error('Failed to mark notification as read');\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate('/login');\r\n    };\r\n\r\n    const unreadCount = notifications.filter(n => !n.is_read).length;\r\n\r\n    const navItems = [\r\n        { name: 'Dashboard', path: '/', icon: <LayoutDashboard size={20} /> },\r\n        { name: 'My Timetable', path: '/timetable', icon: <Calendar size={20} /> },\r\n        { name: 'Settings', path: '/settings', icon: <SettingsIcon size={20} /> },\r\n    ];\r\n\r\n    return (\r\n        <div style={{ display: 'flex', minHeight: '100vh', backgroundColor: 'var(--bg-main)' }}>\r\n            {/* Sidebar */}\r\n            <div style={{\r\n                width: sidebarOpen ? '260px' : '80px',\r\n                backgroundColor: 'var(--bg-card)',\r\n                borderRight: '1px solid var(--border)',\r\n                transition: 'width 0.3s ease',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                position: 'sticky',\r\n                top: 0,\r\n                height: '100vh',\r\n                zIndex: 100\r\n            }}>\r\n                <div style={{\r\n                    padding: '24px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: sidebarOpen ? 'space-between' : 'center',\r\n                    borderBottom: '1px solid var(--border)'\r\n                }}>\r\n                    {sidebarOpen && <h1 style={{ fontSize: '20px', fontWeight: '800', color: 'var(--primary)' }}>T-App</h1>}\r\n                    <button onClick={() => setSidebarOpen(!sidebarOpen)} style={{ background: 'none', color: 'var(--text-muted)' }}>\r\n                        {sidebarOpen ? <X size={20} /> : <Menu size={20} />}\r\n                    </button>\r\n                </div>\r\n\r\n                <nav style={{ padding: '20px 12px', flex: 1 }}>\r\n                    {navItems.map((item) => (\r\n                        <NavLink\r\n                            key={item.path}\r\n                            to={item.path}\r\n                            style={({ isActive }) => ({\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                padding: '12px 16px',\r\n                                marginBottom: '8px',\r\n                                borderRadius: '12px',\r\n                                textDecoration: 'none',\r\n                                color: isActive ? 'var(--primary)' : 'var(--text-muted)',\r\n                                backgroundColor: isActive ? 'rgba(59, 130, 246, 0.1)' : 'transparent',\r\n                                transition: 'all 0.2s',\r\n                                justifyContent: sidebarOpen ? 'flex-start' : 'center'\r\n                            })}\r\n                        >\r\n                            <div style={{ minWidth: '24px', display: 'flex', justifyContent: 'center' }}>{item.icon}</div>\r\n                            {sidebarOpen && <span style={{ marginLeft: '12px', fontWeight: '600' }}>{item.name}</span>}\r\n                        </NavLink>\r\n                    ))}\r\n                </nav>\r\n\r\n                <div style={{ padding: '20px', borderTop: '1px solid var(--border)' }}>\r\n                    <button\r\n                        onClick={handleLogout}\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            padding: '12px',\r\n                            width: '100%',\r\n                            borderRadius: '12px',\r\n                            color: '#ef4444',\r\n                            backgroundColor: 'transparent',\r\n                            justifyContent: sidebarOpen ? 'flex-start' : 'center'\r\n                        }}\r\n                    >\r\n                        <LogOut size={20} />\r\n                        {sidebarOpen && <span style={{ marginLeft: '12px', fontWeight: '600' }}>Logout</span>}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n                {/* Header */}\r\n                <header style={{\r\n                    height: '70px',\r\n                    backgroundColor: 'var(--bg-card)',\r\n                    borderBottom: '1px solid var(--border)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    padding: '0 30px',\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    zIndex: 90\r\n                }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                        <Clock size={20} color=\"var(--text-muted)\" />\r\n                        <span style={{ fontWeight: '500', color: 'var(--text-muted)' }}>\r\n                            {new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '20px' }}>\r\n                        {/* Dark Mode Toggle */}\r\n                        <button\r\n                            onClick={() => setIsDarkMode(!isDarkMode)}\r\n                            style={{ background: 'none', color: 'var(--text-muted)' }}\r\n                        >\r\n                            {isDarkMode ? <Sun size={22} /> : <Moon size={22} />}\r\n                        </button>\r\n\r\n                        {/* Notifications */}\r\n                        <div style={{ position: 'relative' }}>\r\n                            <button\r\n                                onClick={() => setShowNotifications(!showNotifications)}\r\n                                style={{ background: 'none', color: 'var(--text-muted)' }}\r\n                            >\r\n                                <Bell size={22} />\r\n                                {unreadCount > 0 && (\r\n                                    <span style={{\r\n                                        position: 'absolute',\r\n                                        top: '-5px',\r\n                                        right: '-5px',\r\n                                        backgroundColor: '#ef4444',\r\n                                        color: 'white',\r\n                                        fontSize: '10px',\r\n                                        fontWeight: 'bold',\r\n                                        padding: '2px 6px',\r\n                                        borderRadius: '10px',\r\n                                        border: '2px solid var(--bg-card)'\r\n                                    }}>{unreadCount}</span>\r\n                                )}\r\n                            </button>\r\n\r\n                            {showNotifications && (\r\n                                <div className=\"card\" style={{\r\n                                    position: 'absolute',\r\n                                    top: '40px',\r\n                                    right: 0,\r\n                                    width: '300px',\r\n                                    maxHeight: '400px',\r\n                                    overflowY: 'auto',\r\n                                    zIndex: 1000,\r\n                                    padding: '15px'\r\n                                }}>\r\n                                    <h4 style={{ marginBottom: '15px', fontSize: '16px' }}>Notifications</h4>\r\n                                    {notifications.length === 0 ? (\r\n                                        <p style={{ fontSize: '13px', color: 'var(--text-muted)' }}>No notifications yet.</p>\r\n                                    ) : (\r\n                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                                            {notifications.map(n => (\r\n                                                <div key={n.id} style={{\r\n                                                    padding: '10px',\r\n                                                    borderRadius: '8px',\r\n                                                    backgroundColor: n.is_read ? 'transparent' : 'rgba(59, 130, 246, 0.05)',\r\n                                                    border: n.is_read ? 'none' : '1px solid var(--border)',\r\n                                                    fontSize: '13px',\r\n                                                    display: 'flex',\r\n                                                    justifyContent: 'space-between',\r\n                                                    alignItems: 'flex-start'\r\n                                                }}>\r\n                                                    <span style={{ flex: 1, marginRight: '10px' }}>{n.message}</span>\r\n                                                    {!n.is_read && (\r\n                                                        <button onClick={() => markAsRead(n.id)} style={{ background: 'none', color: '#10b981' }}>\r\n                                                            <Check size={16} />\r\n                                                        </button>\r\n                                                    )}\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', paddingLeft: '20px', borderLeft: '1px solid var(--border)' }}>\r\n                            <div style={{ textAlign: 'right' }}>\r\n                                <div style={{ fontWeight: '700', fontSize: '14px' }}>{user?.username}</div>\r\n                                <div style={{ fontSize: '12px', color: 'var(--text-muted)' }}>Standard User</div>\r\n                            </div>\r\n                            <div style={{\r\n                                width: '40px',\r\n                                height: '40px',\r\n                                borderRadius: '12px',\r\n                                backgroundColor: 'var(--primary)',\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                color: 'white'\r\n                            }}>\r\n                                <User size={20} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Page Content */}\r\n                <main style={{ padding: '30px', flex: 1 }}>\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}