{"ast":null,"code":"import _objectSpread from\"D:/time table/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';// Mock Database for Offline Mode\n// We initialize it if it doesn't exist\nconst getLocalDB=()=>{const saved=localStorage.getItem('offline_db');const db=saved?JSON.parse(saved):{timetable:[],notifications:[],userSettings:{},completion_log:[]// Array of { task_id, completed_date, subject }\n};// Ensure completion_log exists for backward compatibility\nif(!db.completion_log){db.completion_log=[];}return db;};const saveLocalDB=db=>localStorage.setItem('offline_db',JSON.stringify(db));// Helper: Get today's date string (YYYY-MM-DD)\nconst getTodayString=()=>{const today=new Date();return today.toISOString().split('T')[0];};// Helper: Check if a task is completed for a specific date\nconst isTaskCompletedForDate=(db,taskId,dateString)=>{return db.completion_log.some(log=>log.task_id===taskId&&log.completed_date===dateString);};// Helper: Get the \"effective\" completion status for a task based on its recurrence\nconst getEffectiveCompletionStatus=(task,db)=>{const today=getTodayString();const repeatConfig=typeof task.repeat_config==='string'?JSON.parse(task.repeat_config):task.repeat_config||{type:'None'};// For Daily tasks, check if completed today\nif(repeatConfig.type==='Daily'){return isTaskCompletedForDate(db,task.id,today);}// For Weekly tasks, check if completed this week\nif(repeatConfig.type==='Weekly'){const todayDate=new Date();const dayOfWeek=todayDate.getDay();const taskDay=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'].indexOf(task.day);// If today is the task's day, check if completed today\nif(dayOfWeek===taskDay){return isTaskCompletedForDate(db,task.id,today);}// If we're past the task's day this week, check if it was completed on that day\nif(dayOfWeek>taskDay){const daysAgo=dayOfWeek-taskDay;const taskDate=new Date(todayDate);taskDate.setDate(taskDate.getDate()-daysAgo);const taskDateString=taskDate.toISOString().split('T')[0];return isTaskCompletedForDate(db,task.id,taskDateString);}// If we haven't reached the task's day yet this week, it's not completed\nreturn false;}// For one-time tasks, use the old is_completed flag\nreturn task.is_completed||false;};// Helper to simulate a slight network delay (optional, makes it feel less \"instant\"/fake if desired, but for offline, instant is good)\nconst delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));const api=axios.create({baseURL:'http://localhost:3000'// Dummy URL, we won't hit it\n});// Full Override of the Request Adapter to prevent ANY network calls\napi.defaults.adapter=async config=>{console.log(\"[OFFLINE ACTIONS] \".concat(config.method.toUpperCase(),\" \").concat(config.url));// Simulate tiny delay for better UX (prevent flickering)\nawait delay(100);const db=getLocalDB();// -------------------------------------------------------------------------\n// TIMETABLE ROUTES\n// -------------------------------------------------------------------------\n// GET /timetable\nif(config.url==='/timetable'&&config.method==='get'){// Return tasks with their effective completion status\nconst enrichedTimetable=db.timetable.map(task=>_objectSpread(_objectSpread({},task),{},{is_completed:getEffectiveCompletionStatus(task,db)}));return{data:enrichedTimetable,status:200,statusText:'OK',headers:{},config};}// POST /timetable\nif(config.url==='/timetable'&&config.method==='post'){const requestData=typeof config.data==='string'?JSON.parse(config.data):config.data;const newEntry=_objectSpread(_objectSpread({id:Date.now()},requestData),{},{is_completed:false,created_at:new Date().toISOString()});db.timetable.push(newEntry);saveLocalDB(db);return{data:newEntry,status:201,statusText:'Created',headers:{},config};}// PUT /timetable/:id\nif(config.url.startsWith('/timetable/')&&config.method==='put'){const id=parseInt(config.url.split('/').pop());const requestData=typeof config.data==='string'?JSON.parse(config.data):config.data;const index=db.timetable.findIndex(t=>t.id===id);if(index!==-1){const task=db.timetable[index];const repeatConfig=typeof task.repeat_config==='string'?JSON.parse(task.repeat_config):task.repeat_config||{type:'None'};// If this is a completion toggle for a recurring task\nif(requestData.hasOwnProperty('is_completed')){const today=getTodayString();if(repeatConfig.type==='Daily'||repeatConfig.type==='Weekly'){// For recurring tasks, log to completion_log instead of setting is_completed\nif(requestData.is_completed){// Add to completion log if not already there\nif(!isTaskCompletedForDate(db,id,today)){db.completion_log.push({task_id:id,completed_date:today,subject:task.subject});}}else{// Remove from completion log\ndb.completion_log=db.completion_log.filter(log=>!(log.task_id===id&&log.completed_date===today));}// Don't update the is_completed flag for recurring tasks\ndelete requestData.is_completed;}}// Update the task with remaining fields\ndb.timetable[index]=_objectSpread(_objectSpread({},db.timetable[index]),requestData);saveLocalDB(db);// Return with effective completion status\nconst updatedTask=_objectSpread(_objectSpread({},db.timetable[index]),{},{is_completed:getEffectiveCompletionStatus(db.timetable[index],db)});return{data:updatedTask,status:200,statusText:'OK',headers:{},config};}return{data:{message:'Not Found'},status:404,statusText:'Not Found',headers:{},config};}// DELETE /timetable/:id\nif(config.url.startsWith('/timetable/')&&config.method==='delete'){const id=parseInt(config.url.split('/').pop());db.timetable=db.timetable.filter(t=>t.id!==id);saveLocalDB(db);return{data:{message:'Deleted'},status:200,statusText:'OK',headers:{},config};}// -------------------------------------------------------------------------\n// NOTIFICATION/SETTINGS ROUTES\n// -------------------------------------------------------------------------\n// GET /notifications\nif(config.url==='/notifications'&&config.method==='get'){return{data:db.notifications||[],status:200,statusText:'OK',headers:{},config};}// PUT /auth/profile (Settings)\nif(config.url.includes('/auth/profile')&&config.method==='put'){return{data:{message:'Profile updated offline'},status:200,statusText:'OK',headers:{},config};}// Ping\nif(config.url==='/api/ping'){return{data:{message:'Pong'},status:200,statusText:'OK',headers:{},config};}// Default fallback\nreturn{data:{message:'Offline Mock: Route not found'},status:404,statusText:'Not Found',headers:{},config};};export default api;","map":{"version":3,"names":["axios","getLocalDB","saved","localStorage","getItem","db","JSON","parse","timetable","notifications","userSettings","completion_log","saveLocalDB","setItem","stringify","getTodayString","today","Date","toISOString","split","isTaskCompletedForDate","taskId","dateString","some","log","task_id","completed_date","getEffectiveCompletionStatus","task","repeatConfig","repeat_config","type","id","todayDate","dayOfWeek","getDay","taskDay","indexOf","day","daysAgo","taskDate","setDate","getDate","taskDateString","is_completed","delay","ms","Promise","resolve","setTimeout","api","create","baseURL","defaults","adapter","config","console","concat","method","toUpperCase","url","enrichedTimetable","map","_objectSpread","data","status","statusText","headers","requestData","newEntry","now","created_at","push","startsWith","parseInt","pop","index","findIndex","t","hasOwnProperty","subject","filter","updatedTask","message","includes"],"sources":["D:/time table/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Mock Database for Offline Mode\r\n// We initialize it if it doesn't exist\r\nconst getLocalDB = () => {\r\n    const saved = localStorage.getItem('offline_db');\r\n    const db = saved ? JSON.parse(saved) : {\r\n        timetable: [],\r\n        notifications: [],\r\n        userSettings: {},\r\n        completion_log: [] // Array of { task_id, completed_date, subject }\r\n    };\r\n\r\n    // Ensure completion_log exists for backward compatibility\r\n    if (!db.completion_log) {\r\n        db.completion_log = [];\r\n    }\r\n\r\n    return db;\r\n};\r\n\r\nconst saveLocalDB = (db) => localStorage.setItem('offline_db', JSON.stringify(db));\r\n\r\n// Helper: Get today's date string (YYYY-MM-DD)\r\nconst getTodayString = () => {\r\n    const today = new Date();\r\n    return today.toISOString().split('T')[0];\r\n};\r\n\r\n// Helper: Check if a task is completed for a specific date\r\nconst isTaskCompletedForDate = (db, taskId, dateString) => {\r\n    return db.completion_log.some(log =>\r\n        log.task_id === taskId && log.completed_date === dateString\r\n    );\r\n};\r\n\r\n// Helper: Get the \"effective\" completion status for a task based on its recurrence\r\nconst getEffectiveCompletionStatus = (task, db) => {\r\n    const today = getTodayString();\r\n    const repeatConfig = typeof task.repeat_config === 'string' ?\r\n        JSON.parse(task.repeat_config) : (task.repeat_config || { type: 'None' });\r\n\r\n    // For Daily tasks, check if completed today\r\n    if (repeatConfig.type === 'Daily') {\r\n        return isTaskCompletedForDate(db, task.id, today);\r\n    }\r\n\r\n    // For Weekly tasks, check if completed this week\r\n    if (repeatConfig.type === 'Weekly') {\r\n        const todayDate = new Date();\r\n        const dayOfWeek = todayDate.getDay();\r\n        const taskDay = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].indexOf(task.day);\r\n\r\n        // If today is the task's day, check if completed today\r\n        if (dayOfWeek === taskDay) {\r\n            return isTaskCompletedForDate(db, task.id, today);\r\n        }\r\n        // If we're past the task's day this week, check if it was completed on that day\r\n        if (dayOfWeek > taskDay) {\r\n            const daysAgo = dayOfWeek - taskDay;\r\n            const taskDate = new Date(todayDate);\r\n            taskDate.setDate(taskDate.getDate() - daysAgo);\r\n            const taskDateString = taskDate.toISOString().split('T')[0];\r\n            return isTaskCompletedForDate(db, task.id, taskDateString);\r\n        }\r\n        // If we haven't reached the task's day yet this week, it's not completed\r\n        return false;\r\n    }\r\n\r\n    // For one-time tasks, use the old is_completed flag\r\n    return task.is_completed || false;\r\n};\r\n\r\n// Helper to simulate a slight network delay (optional, makes it feel less \"instant\"/fake if desired, but for offline, instant is good)\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3000', // Dummy URL, we won't hit it\r\n});\r\n\r\n// Full Override of the Request Adapter to prevent ANY network calls\r\napi.defaults.adapter = async (config) => {\r\n    console.log(`[OFFLINE ACTIONS] ${config.method.toUpperCase()} ${config.url}`);\r\n\r\n    // Simulate tiny delay for better UX (prevent flickering)\r\n    await delay(100);\r\n\r\n    const db = getLocalDB();\r\n\r\n    // -------------------------------------------------------------------------\r\n    // TIMETABLE ROUTES\r\n    // -------------------------------------------------------------------------\r\n\r\n    // GET /timetable\r\n    if (config.url === '/timetable' && config.method === 'get') {\r\n        // Return tasks with their effective completion status\r\n        const enrichedTimetable = db.timetable.map(task => ({\r\n            ...task,\r\n            is_completed: getEffectiveCompletionStatus(task, db)\r\n        }));\r\n        return { data: enrichedTimetable, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // POST /timetable\r\n    if (config.url === '/timetable' && config.method === 'post') {\r\n        const requestData = typeof config.data === 'string' ? JSON.parse(config.data) : config.data;\r\n        const newEntry = {\r\n            id: Date.now(),\r\n            ...requestData,\r\n            is_completed: false,\r\n            created_at: new Date().toISOString()\r\n        };\r\n        db.timetable.push(newEntry);\r\n        saveLocalDB(db);\r\n        return { data: newEntry, status: 201, statusText: 'Created', headers: {}, config };\r\n    }\r\n\r\n    // PUT /timetable/:id\r\n    if (config.url.startsWith('/timetable/') && config.method === 'put') {\r\n        const id = parseInt(config.url.split('/').pop());\r\n        const requestData = typeof config.data === 'string' ? JSON.parse(config.data) : config.data;\r\n\r\n        const index = db.timetable.findIndex(t => t.id === id);\r\n        if (index !== -1) {\r\n            const task = db.timetable[index];\r\n            const repeatConfig = typeof task.repeat_config === 'string' ?\r\n                JSON.parse(task.repeat_config) : (task.repeat_config || { type: 'None' });\r\n\r\n            // If this is a completion toggle for a recurring task\r\n            if (requestData.hasOwnProperty('is_completed')) {\r\n                const today = getTodayString();\r\n\r\n                if (repeatConfig.type === 'Daily' || repeatConfig.type === 'Weekly') {\r\n                    // For recurring tasks, log to completion_log instead of setting is_completed\r\n                    if (requestData.is_completed) {\r\n                        // Add to completion log if not already there\r\n                        if (!isTaskCompletedForDate(db, id, today)) {\r\n                            db.completion_log.push({\r\n                                task_id: id,\r\n                                completed_date: today,\r\n                                subject: task.subject\r\n                            });\r\n                        }\r\n                    } else {\r\n                        // Remove from completion log\r\n                        db.completion_log = db.completion_log.filter(log =>\r\n                            !(log.task_id === id && log.completed_date === today)\r\n                        );\r\n                    }\r\n                    // Don't update the is_completed flag for recurring tasks\r\n                    delete requestData.is_completed;\r\n                }\r\n            }\r\n\r\n            // Update the task with remaining fields\r\n            db.timetable[index] = { ...db.timetable[index], ...requestData };\r\n            saveLocalDB(db);\r\n\r\n            // Return with effective completion status\r\n            const updatedTask = {\r\n                ...db.timetable[index],\r\n                is_completed: getEffectiveCompletionStatus(db.timetable[index], db)\r\n            };\r\n            return { data: updatedTask, status: 200, statusText: 'OK', headers: {}, config };\r\n        }\r\n        return { data: { message: 'Not Found' }, status: 404, statusText: 'Not Found', headers: {}, config };\r\n    }\r\n\r\n    // DELETE /timetable/:id\r\n    if (config.url.startsWith('/timetable/') && config.method === 'delete') {\r\n        const id = parseInt(config.url.split('/').pop());\r\n        db.timetable = db.timetable.filter(t => t.id !== id);\r\n        saveLocalDB(db);\r\n        return { data: { message: 'Deleted' }, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // NOTIFICATION/SETTINGS ROUTES\r\n    // -------------------------------------------------------------------------\r\n\r\n    // GET /notifications\r\n    if (config.url === '/notifications' && config.method === 'get') {\r\n        return { data: db.notifications || [], status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // PUT /auth/profile (Settings)\r\n    if (config.url.includes('/auth/profile') && config.method === 'put') {\r\n        return { data: { message: 'Profile updated offline' }, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // Ping\r\n    if (config.url === '/api/ping') {\r\n        return { data: { message: 'Pong' }, status: 200, statusText: 'OK', headers: {}, config };\r\n    }\r\n\r\n    // Default fallback\r\n    return { data: { message: 'Offline Mock: Route not found' }, status: 404, statusText: 'Not Found', headers: {}, config };\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}